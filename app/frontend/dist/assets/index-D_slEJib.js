import{j as r,V as cs,R as ds,A as us,C as fs,T as ps,D as ms,P as Qa,S as Xa,a as hs,I as ys,F as xs,L as gs,b as vs,c as bs,d as Za,e as ws,f as Ya,g as js,h as Ns,i as ei,k as Ss,l as ti,m as Es,n as Os,o as ri,p as ni,q as As,r as si,s as ai,O as Ts,t as ii,u as Rs,v as oi,w as ks,x as Cs,y as li,z as ci}from"./ui-vendor-CGy2_dwl.js";import{b as di,r as v,g as ui,d as dn,e as fi}from"./react-vendor-DS7GULig.js";import{u as me,L as Qe,B as pi,R as un,a as te}from"./router-vendor-BrDSB5XJ.js";import{t as mi,c as hi,a as qr,X as _s,S as Ps,U as Mr,M as Ar,b as ze,H as Br,L as zr,d as Ct,C as _t,e as $s,f as Zt,g as Pt,h as Is,i as yi,j as xi,k as gi,l as vi,P as Fs,T as Ds,m as Us,E as bi,n as wi,o as Ls,p as X,q as ji,A as Ni,r as Si,s as Ye,u as Tr,v as Ei,F as fn}from"./utils-vendor-qrwndToI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var qs,pn=di;qs=pn.createRoot,pn.hydrateRoot;const Oi=1,Ai=1e6;let Yt=0;function Ti(){return Yt=(Yt+1)%Number.MAX_SAFE_INTEGER,Yt.toString()}const er=new Map,mn=t=>{if(er.has(t))return;const e=setTimeout(()=>{er.delete(t),et({type:"REMOVE_TOAST",toastId:t})},Ai);er.set(t,e)},Ri=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Oi)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?mn(n):t.toasts.forEach(s=>{mn(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},jt=[];let Nt={toasts:[]};function et(t){Nt=Ri(Nt,t),jt.forEach(e=>{e(Nt)})}function ki({...t}){const e=Ti(),n=a=>et({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>et({type:"DISMISS_TOAST",toastId:e});return et({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:n}}function le(){const[t,e]=v.useState(Nt);return v.useEffect(()=>(jt.push(e),()=>{const n=jt.indexOf(e);n>-1&&jt.splice(n,1)}),[t]),{...t,toast:ki,dismiss:n=>et({type:"DISMISS_TOAST",toastId:n})}}function I(...t){return mi(hi(t))}const Ci=Qa,Ms=v.forwardRef(({className:t,...e},n)=>r.jsx(cs,{ref:n,className:I("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ms.displayName=cs.displayName;const _i=qr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Bs=v.forwardRef(({className:t,variant:e,...n},s)=>r.jsx(ds,{ref:s,className:I(_i({variant:e}),t),...n}));Bs.displayName=ds.displayName;const Pi=v.forwardRef(({className:t,...e},n)=>r.jsx(us,{ref:n,className:I("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Pi.displayName=us.displayName;const zs=v.forwardRef(({className:t,...e},n)=>r.jsx(fs,{ref:n,className:I("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:r.jsx(_s,{className:"h-4 w-4"})}));zs.displayName=fs.displayName;const Hs=v.forwardRef(({className:t,...e},n)=>r.jsx(ps,{ref:n,className:I("text-sm font-semibold",t),...e}));Hs.displayName=ps.displayName;const Ws=v.forwardRef(({className:t,...e},n)=>r.jsx(ms,{ref:n,className:I("text-sm opacity-90",t),...e}));Ws.displayName=ms.displayName;function $i(){const{toasts:t}=le();return r.jsxs(Ci,{children:[t.map(function({id:e,title:n,description:s,action:a,...i}){return r.jsxs(Bs,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(Hs,{children:n}),s&&r.jsx(Ws,{children:s})]}),a,r.jsx(zs,{})]},e)}),r.jsx(Ms,{})]})}function Vs(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ii}=Object.prototype,{getPrototypeOf:Hr}=Object,{iterator:Mt,toStringTag:Gs}=Symbol,Bt=(t=>e=>{const n=Ii.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ce=t=>(t=t.toLowerCase(),e=>Bt(e)===t),zt=t=>e=>typeof e===t,{isArray:Ge}=Array,He=zt("undefined");function dt(t){return t!==null&&!He(t)&&t.constructor!==null&&!He(t.constructor)&&Z(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Js=ce("ArrayBuffer");function Fi(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Js(t.buffer),e}const Di=zt("string"),Z=zt("function"),Ks=zt("number"),ut=t=>t!==null&&typeof t=="object",Ui=t=>t===!0||t===!1,St=t=>{if(Bt(t)!=="object")return!1;const e=Hr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Gs in t)&&!(Mt in t)},Li=t=>{if(!ut(t)||dt(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},qi=ce("Date"),Mi=ce("File"),Bi=ce("Blob"),zi=ce("FileList"),Hi=t=>ut(t)&&Z(t.pipe),Wi=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Z(t.append)&&((e=Bt(t))==="formdata"||e==="object"&&Z(t.toString)&&t.toString()==="[object FormData]"))},Vi=ce("URLSearchParams"),[Gi,Ji,Ki,Qi]=["ReadableStream","Request","Response","Headers"].map(ce),Xi=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ft(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),Ge(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{if(dt(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,t[l],l,t)}}function Qs(t,e){if(dt(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,a;for(;s-- >0;)if(a=n[s],e===a.toLowerCase())return a;return null}const Pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xs=t=>!He(t)&&t!==Pe;function Rr(){const{caseless:t,skipUndefined:e}=Xs(this)&&this||{},n={},s=(a,i)=>{const o=t&&Qs(n,i)||i;St(n[o])&&St(a)?n[o]=Rr(n[o],a):St(a)?n[o]=Rr({},a):Ge(a)?n[o]=a.slice():(!e||!He(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ft(arguments[a],s);return n}const Zi=(t,e,n,{allOwnKeys:s}={})=>(ft(e,(a,i)=>{n&&Z(a)?t[i]=Vs(a,n):t[i]=a},{allOwnKeys:s}),t),Yi=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),eo=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},to=(t,e,n,s)=>{let a,i,o;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Hr(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ro=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},no=t=>{if(!t)return null;if(Ge(t))return t;let e=t.length;if(!Ks(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},so=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Hr(Uint8Array)),ao=(t,e)=>{const s=(t&&t[Mt]).call(t);let a;for(;(a=s.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},io=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},oo=ce("HTMLFormElement"),lo=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),hn=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),co=ce("RegExp"),Zs=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};ft(n,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(s[i]=o||a)}),Object.defineProperties(t,s)},uo=t=>{Zs(t,(e,n)=>{if(Z(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Z(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fo=(t,e)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return Ge(t)?s(t):s(String(t).split(e)),n},po=()=>{},mo=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ho(t){return!!(t&&Z(t.append)&&t[Gs]==="FormData"&&t[Mt])}const yo=t=>{const e=new Array(10),n=(s,a)=>{if(ut(s)){if(e.indexOf(s)>=0)return;if(dt(s))return s;if(!("toJSON"in s)){e[a]=s;const i=Ge(s)?[]:{};return ft(s,(o,l)=>{const c=n(o,a+1);!He(c)&&(i[l]=c)}),e[a]=void 0,i}}return s};return n(t,0)},xo=ce("AsyncFunction"),go=t=>t&&(ut(t)||Z(t))&&Z(t.then)&&Z(t.catch),Ys=((t,e)=>t?setImmediate:e?((n,s)=>(Pe.addEventListener("message",({source:a,data:i})=>{a===Pe&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),Pe.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Z(Pe.postMessage)),vo=typeof queueMicrotask<"u"?queueMicrotask.bind(Pe):typeof process<"u"&&process.nextTick||Ys,bo=t=>t!=null&&Z(t[Mt]),y={isArray:Ge,isArrayBuffer:Js,isBuffer:dt,isFormData:Wi,isArrayBufferView:Fi,isString:Di,isNumber:Ks,isBoolean:Ui,isObject:ut,isPlainObject:St,isEmptyObject:Li,isReadableStream:Gi,isRequest:Ji,isResponse:Ki,isHeaders:Qi,isUndefined:He,isDate:qi,isFile:Mi,isBlob:Bi,isRegExp:co,isFunction:Z,isStream:Hi,isURLSearchParams:Vi,isTypedArray:so,isFileList:zi,forEach:ft,merge:Rr,extend:Zi,trim:Xi,stripBOM:Yi,inherits:eo,toFlatObject:to,kindOf:Bt,kindOfTest:ce,endsWith:ro,toArray:no,forEachEntry:ao,matchAll:io,isHTMLForm:oo,hasOwnProperty:hn,hasOwnProp:hn,reduceDescriptors:Zs,freezeMethods:uo,toObjectSet:fo,toCamelCase:lo,noop:po,toFiniteNumber:mo,findKey:Qs,global:Pe,isContextDefined:Xs,isSpecCompliantForm:ho,toJSONObject:yo,isAsyncFn:xo,isThenable:go,setImmediate:Ys,asap:vo,isIterable:bo};function C(t,e,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}y.inherits(C,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const ea=C.prototype,ta={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ta[t]={value:t}});Object.defineProperties(C,ta);Object.defineProperty(ea,"isAxiosError",{value:!0});C.from=(t,e,n,s,a,i)=>{const o=Object.create(ea);y.toFlatObject(t,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return C.call(o,l,c,n,s,a),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const wo=null;function kr(t){return y.isPlainObject(t)||y.isArray(t)}function ra(t){return y.endsWith(t,"[]")?t.slice(0,-2):t}function yn(t,e,n){return t?t.concat(e).map(function(a,i){return a=ra(a),!n&&i?"["+a+"]":a}).join(n?".":""):e}function jo(t){return y.isArray(t)&&!t.some(kr)}const No=y.toFlatObject(y,{},null,function(e){return/^is[A-Z]/.test(e)});function Ht(t,e,n){if(!y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,h){return!y.isUndefined(h[g])});const s=n.metaTokens,a=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(e);if(!y.isFunction(a))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(y.isDate(f))return f.toISOString();if(y.isBoolean(f))return f.toString();if(!c&&y.isBlob(f))throw new C("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(f)||y.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function d(f,g,h){let S=f;if(f&&!h&&typeof f=="object"){if(y.endsWith(g,"{}"))g=s?g:g.slice(0,-2),f=JSON.stringify(f);else if(y.isArray(f)&&jo(f)||(y.isFileList(f)||y.endsWith(g,"[]"))&&(S=y.toArray(f)))return g=ra(g),S.forEach(function(b,j){!(y.isUndefined(b)||b===null)&&e.append(o===!0?yn([g],j,i):o===null?g:g+"[]",u(b))}),!1}return kr(f)?!0:(e.append(yn(h,g,i),u(f)),!1)}const p=[],m=Object.assign(No,{defaultVisitor:d,convertValue:u,isVisitable:kr});function w(f,g){if(!y.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(f),y.forEach(f,function(S,A){(!(y.isUndefined(S)||S===null)&&a.call(e,S,y.isString(A)?A.trim():A,g,m))===!0&&w(S,g?g.concat(A):[A])}),p.pop()}}if(!y.isObject(t))throw new TypeError("data must be an object");return w(t),e}function xn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Wr(t,e){this._pairs=[],t&&Ht(t,this,e)}const na=Wr.prototype;na.append=function(e,n){this._pairs.push([e,n])};na.toString=function(e){const n=e?function(s){return e.call(this,s,xn)}:xn;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function So(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sa(t,e,n){if(!e)return t;const s=n&&n.encode||So;y.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(e,n):i=y.isURLSearchParams(e)?e.toString():new Wr(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class gn{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){y.forEach(this.handlers,function(s){s!==null&&e(s)})}}const aa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eo=typeof URLSearchParams<"u"?URLSearchParams:Wr,Oo=typeof FormData<"u"?FormData:null,Ao=typeof Blob<"u"?Blob:null,To={isBrowser:!0,classes:{URLSearchParams:Eo,FormData:Oo,Blob:Ao},protocols:["http","https","file","blob","url","data"]},Vr=typeof window<"u"&&typeof document<"u",Cr=typeof navigator=="object"&&navigator||void 0,Ro=Vr&&(!Cr||["ReactNative","NativeScript","NS"].indexOf(Cr.product)<0),ko=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Co=Vr&&window.location.href||"http://localhost",_o=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vr,hasStandardBrowserEnv:Ro,hasStandardBrowserWebWorkerEnv:ko,navigator:Cr,origin:Co},Symbol.toStringTag,{value:"Module"})),J={..._o,...To};function Po(t,e){return Ht(t,new J.classes.URLSearchParams,{visitor:function(n,s,a,i){return J.isNode&&y.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function $o(t){return y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Io(t){const e={},n=Object.keys(t);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],e[i]=t[i];return e}function ia(t){function e(n,s,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&y.isArray(a)?a.length:o,c?(y.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!y.isObject(a[o]))&&(a[o]=[]),e(n,s,a[o],i)&&y.isArray(a[o])&&(a[o]=Io(a[o])),!l)}if(y.isFormData(t)&&y.isFunction(t.entries)){const n={};return y.forEachEntry(t,(s,a)=>{e($o(s),a,n,0)}),n}return null}function Fo(t,e,n){if(y.isString(t))try{return(e||JSON.parse)(t),y.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const pt={transitional:aa,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=y.isObject(e);if(i&&y.isHTMLForm(e)&&(e=new FormData(e)),y.isFormData(e))return a?JSON.stringify(ia(e)):e;if(y.isArrayBuffer(e)||y.isBuffer(e)||y.isStream(e)||y.isFile(e)||y.isBlob(e)||y.isReadableStream(e))return e;if(y.isArrayBufferView(e))return e.buffer;if(y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Po(e,this.formSerializer).toString();if((l=y.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ht(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),Fo(e)):e}],transformResponse:[function(e){const n=this.transitional||pt.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(y.isResponse(e)||y.isReadableStream(e))return e;if(e&&y.isString(e)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?C.from(l,C.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:J.classes.FormData,Blob:J.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],t=>{pt.headers[t]={}});const Do=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uo=t=>{const e={};let n,s,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||e[n]&&Do[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},vn=Symbol("internals");function Xe(t){return t&&String(t).trim().toLowerCase()}function Et(t){return t===!1||t==null?t:y.isArray(t)?t.map(Et):String(t)}function Lo(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const qo=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tr(t,e,n,s,a){if(y.isFunction(s))return s.call(this,e,n);if(a&&(e=n),!!y.isString(e)){if(y.isString(s))return e.indexOf(s)!==-1;if(y.isRegExp(s))return s.test(e)}}function Mo(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function Bo(t,e){const n=y.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(a,i,o){return this[s].call(this,e,a,i,o)},configurable:!0})})}let Y=class{constructor(e){e&&this.set(e)}set(e,n,s){const a=this;function i(l,c,u){const d=Xe(c);if(!d)throw new Error("header name must be a non-empty string");const p=y.findKey(a,d);(!p||a[p]===void 0||u===!0||u===void 0&&a[p]!==!1)&&(a[p||c]=Et(l))}const o=(l,c)=>y.forEach(l,(u,d)=>i(u,d,c));if(y.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(y.isString(e)&&(e=e.trim())&&!qo(e))o(Uo(e),n);else if(y.isObject(e)&&y.isIterable(e)){let l={},c,u;for(const d of e){if(!y.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?y.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Xe(e),e){const s=y.findKey(this,e);if(s){const a=this[s];if(!n)return a;if(n===!0)return Lo(a);if(y.isFunction(n))return n.call(this,a,s);if(y.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xe(e),e){const s=y.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||tr(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let a=!1;function i(o){if(o=Xe(o),o){const l=y.findKey(s,o);l&&(!n||tr(s,s[l],l,n))&&(delete s[l],a=!0)}}return y.isArray(e)?e.forEach(i):i(e),a}clear(e){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!e||tr(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const n=this,s={};return y.forEach(this,(a,i)=>{const o=y.findKey(s,i);if(o){n[o]=Et(a),delete n[i];return}const l=e?Mo(i):String(i).trim();l!==i&&delete n[i],n[l]=Et(a),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return y.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=e&&y.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[vn]=this[vn]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Xe(o);s[l]||(Bo(a,o),s[l]=!0)}return y.isArray(e)?e.forEach(i):i(e),this}};Y.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(Y.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});y.freezeMethods(Y);function rr(t,e){const n=this||pt,s=e||n,a=Y.from(s.headers);let i=s.data;return y.forEach(t,function(l){i=l.call(n,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function oa(t){return!!(t&&t.__CANCEL__)}function Je(t,e,n){C.call(this,t??"canceled",C.ERR_CANCELED,e,n),this.name="CanceledError"}y.inherits(Je,C,{__CANCEL__:!0});function la(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new C("Request failed with status code "+n.status,[C.ERR_BAD_REQUEST,C.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zo(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ho(t,e){t=t||10;const n=new Array(t),s=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=s[i];o||(o=u),n[a]=c,s[a]=u;let p=i,m=0;for(;p!==a;)m+=n[p++],p=p%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-o<e)return;const w=d&&u-d;return w?Math.round(m*1e3/w):void 0}}function Wo(t,e){let n=0,s=1e3/e,a,i;const o=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=s?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-p)))},()=>a&&o(a)]}const $t=(t,e,n=3)=>{let s=0;const a=Ho(50,250);return Wo(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,u=a(c),d=o<=l;s=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(p)},n)},bn=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},wn=t=>(...e)=>y.asap(()=>t(...e)),Vo=J.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,J.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(J.origin),J.navigator&&/(msie|trident)/i.test(J.navigator.userAgent)):()=>!0,Go=J.hasStandardBrowserEnv?{write(t,e,n,s,a,i,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];y.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),y.isString(s)&&l.push(`path=${s}`),y.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),y.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Jo(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ko(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ca(t,e,n){let s=!Jo(e);return t&&(s||n==!1)?Ko(t,e):e}const jn=t=>t instanceof Y?{...t}:t;function Fe(t,e){e=e||{};const n={};function s(u,d,p,m){return y.isPlainObject(u)&&y.isPlainObject(d)?y.merge.call({caseless:m},u,d):y.isPlainObject(d)?y.merge({},d):y.isArray(d)?d.slice():d}function a(u,d,p,m){if(y.isUndefined(d)){if(!y.isUndefined(u))return s(void 0,u,p,m)}else return s(u,d,p,m)}function i(u,d){if(!y.isUndefined(d))return s(void 0,d)}function o(u,d){if(y.isUndefined(d)){if(!y.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,p){if(p in e)return s(u,d);if(p in t)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,p)=>a(jn(u),jn(d),p,!0)};return y.forEach(Object.keys({...t,...e}),function(d){const p=c[d]||a,m=p(t[d],e[d],d);y.isUndefined(m)&&p!==l||(n[d]=m)}),n}const da=t=>{const e=Fe({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Y.from(o),e.url=sa(ca(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),y.isFormData(n)){if(J.hasStandardBrowserEnv||J.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(y.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{u.includes(d.toLowerCase())&&o.set(d,p)})}}if(J.hasStandardBrowserEnv&&(s&&y.isFunction(s)&&(s=s(e)),s||s!==!1&&Vo(e.url))){const c=a&&i&&Go.read(i);c&&o.set(a,c)}return e},Qo=typeof XMLHttpRequest<"u",Xo=Qo&&function(t){return new Promise(function(n,s){const a=da(t);let i=a.data;const o=Y.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,p,m,w,f;function g(){w&&w(),f&&f(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let h=new XMLHttpRequest;h.open(a.method.toUpperCase(),a.url,!0),h.timeout=a.timeout;function S(){if(!h)return;const b=Y.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:b,config:t,request:h};la(function(E){n(E),g()},function(E){s(E),g()},k),h=null}"onloadend"in h?h.onloadend=S:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(S)},h.onabort=function(){h&&(s(new C("Request aborted",C.ECONNABORTED,t,h)),h=null)},h.onerror=function(j){const k=j&&j.message?j.message:"Network Error",x=new C(k,C.ERR_NETWORK,t,h);x.event=j||null,s(x),h=null},h.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||aa;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),s(new C(j,k.clarifyTimeoutError?C.ETIMEDOUT:C.ECONNABORTED,t,h)),h=null},i===void 0&&o.setContentType(null),"setRequestHeader"in h&&y.forEach(o.toJSON(),function(j,k){h.setRequestHeader(k,j)}),y.isUndefined(a.withCredentials)||(h.withCredentials=!!a.withCredentials),l&&l!=="json"&&(h.responseType=a.responseType),u&&([m,f]=$t(u,!0),h.addEventListener("progress",m)),c&&h.upload&&([p,w]=$t(c),h.upload.addEventListener("progress",p),h.upload.addEventListener("loadend",w)),(a.cancelToken||a.signal)&&(d=b=>{h&&(s(!b||b.type?new Je(null,t,h):b),h.abort(),h=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const A=zo(a.url);if(A&&J.protocols.indexOf(A)===-1){s(new C("Unsupported protocol "+A+":",C.ERR_BAD_REQUEST,t));return}h.send(i||null)})},Zo=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof C?d:new Je(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new C(`timeout ${e} of ms exceeded`,C.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>y.asap(l),c}},Yo=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,a;for(;s<n;)a=s+e,yield t.slice(s,a),s=a},el=async function*(t,e){for await(const n of tl(t))yield*Yo(n,e)},tl=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Nn=(t,e,n,s)=>{const a=el(t,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let p=d.byteLength;if(n){let m=i+=p;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Sn=64*1024,{isFunction:xt}=y,rl=(({Request:t,Response:e})=>({Request:t,Response:e}))(y.global),{ReadableStream:En,TextEncoder:On}=y.global,An=(t,...e)=>{try{return!!t(...e)}catch{return!1}},nl=t=>{t=y.merge.call({skipUndefined:!0},rl,t);const{fetch:e,Request:n,Response:s}=t,a=e?xt(e):typeof fetch=="function",i=xt(n),o=xt(s);if(!a)return!1;const l=a&&xt(En),c=a&&(typeof On=="function"?(f=>g=>f.encode(g))(new On):async f=>new Uint8Array(await new n(f).arrayBuffer())),u=i&&l&&An(()=>{let f=!1;const g=new n(J.origin,{body:new En,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!g}),d=o&&l&&An(()=>y.isReadableStream(new s("").body)),p={stream:d&&(f=>f.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!p[f]&&(p[f]=(g,h)=>{let S=g&&g[f];if(S)return S.call(g);throw new C(`Response type '${f}' is not supported`,C.ERR_NOT_SUPPORT,h)})});const m=async f=>{if(f==null)return 0;if(y.isBlob(f))return f.size;if(y.isSpecCompliantForm(f))return(await new n(J.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(y.isArrayBufferView(f)||y.isArrayBuffer(f))return f.byteLength;if(y.isURLSearchParams(f)&&(f=f+""),y.isString(f))return(await c(f)).byteLength},w=async(f,g)=>{const h=y.toFiniteNumber(f.getContentLength());return h??m(g)};return async f=>{let{url:g,method:h,data:S,signal:A,cancelToken:b,timeout:j,onDownloadProgress:k,onUploadProgress:x,responseType:E,headers:_,withCredentials:N="same-origin",fetchOptions:L}=da(f),ee=e||fetch;E=E?(E+"").toLowerCase():"text";let G=Zo([A,b&&b.toAbortSignal()],j),q=null;const z=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let O;try{if(x&&u&&h!=="get"&&h!=="head"&&(O=await w(_,S))!==0){let ae=new n(g,{method:"POST",body:S,duplex:"half"}),je;if(y.isFormData(S)&&(je=ae.headers.get("content-type"))&&_.setContentType(je),ae.body){const[R,Q]=bn(O,$t(wn(x)));S=Nn(ae.body,Sn,R,Q)}}y.isString(N)||(N=N?"include":"omit");const P=i&&"credentials"in n.prototype,K={...L,signal:G,method:h.toUpperCase(),headers:_.normalize().toJSON(),body:S,duplex:"half",credentials:P?N:void 0};q=i&&new n(g,K);let se=await(i?ee(q,L):ee(g,K));const Te=d&&(E==="stream"||E==="response");if(d&&(k||Te&&z)){const ae={};["status","statusText","headers"].forEach(Re=>{ae[Re]=se[Re]});const je=y.toFiniteNumber(se.headers.get("content-length")),[R,Q]=k&&bn(je,$t(wn(k),!0))||[];se=new s(Nn(se.body,Sn,R,()=>{Q&&Q(),z&&z()}),ae)}E=E||"text";let we=await p[y.findKey(p,E)||"text"](se,f);return!Te&&z&&z(),await new Promise((ae,je)=>{la(ae,je,{data:we,headers:Y.from(se.headers),status:se.status,statusText:se.statusText,config:f,request:q})})}catch(P){throw z&&z(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new C("Network Error",C.ERR_NETWORK,f,q),{cause:P.cause||P}):C.from(P,P&&P.code,f,q)}}},sl=new Map,ua=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:a}=e,i=[s,a,n];let o=i.length,l=o,c,u,d=sl;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:nl(e)),d=u;return u};ua();const Gr={http:wo,xhr:Xo,fetch:{get:ua}};y.forEach(Gr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Tn=t=>`- ${t}`,al=t=>y.isFunction(t)||t===null||t===!1;function il(t,e){t=y.isArray(t)?t:[t];const{length:n}=t;let s,a;const i={};for(let o=0;o<n;o++){s=t[o];let l;if(a=s,!al(s)&&(a=Gr[(l=String(s)).toLowerCase()],a===void 0))throw new C(`Unknown adapter '${l}'`);if(a&&(y.isFunction(a)||(a=a.get(e))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Tn).join(`
`):" "+Tn(o[0]):"as no adapter specified";throw new C("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const fa={getAdapter:il,adapters:Gr};function nr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Je(null,t)}function Rn(t){return nr(t),t.headers=Y.from(t.headers),t.data=rr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fa.getAdapter(t.adapter||pt.adapter,t)(t).then(function(s){return nr(t),s.data=rr.call(t,t.transformResponse,s),s.headers=Y.from(s.headers),s},function(s){return oa(s)||(nr(t),s&&s.response&&(s.response.data=rr.call(t,t.transformResponse,s.response),s.response.headers=Y.from(s.response.headers))),Promise.reject(s)})}const pa="1.13.2",Wt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wt[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const kn={};Wt.transitional=function(e,n,s){function a(i,o){return"[Axios v"+pa+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new C(a(o," has been removed"+(n?" in "+n:"")),C.ERR_DEPRECATED);return n&&!kn[o]&&(kn[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};Wt.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function ol(t,e,n){if(typeof t!="object")throw new C("options must be an object",C.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const i=s[a],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new C("option "+i+" must be "+c,C.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new C("Unknown option "+i,C.ERR_BAD_OPTION)}}const Ot={assertOptions:ol,validators:Wt},de=Ot.validators;let $e=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gn,response:new gn}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fe(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&Ot.assertOptions(s,{silentJSONParsing:de.transitional(de.boolean),forcedJSONParsing:de.transitional(de.boolean),clarifyTimeoutError:de.transitional(de.boolean)},!1),a!=null&&(y.isFunction(a)?n.paramsSerializer={serialize:a}:Ot.assertOptions(a,{encode:de.function,serialize:de.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ot.assertOptions(n,{baseUrl:de.spelling("baseURL"),withXsrfToken:de.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&y.merge(i.common,i[n.method]);i&&y.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),n.headers=Y.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,m;if(!c){const f=[Rn.bind(this),void 0];for(f.unshift(...l),f.push(...u),m=f.length,d=Promise.resolve(n);p<m;)d=d.then(f[p++],f[p++]);return d}m=l.length;let w=n;for(;p<m;){const f=l[p++],g=l[p++];try{w=f(w)}catch(h){g.call(this,h);break}}try{d=Rn.call(this,w)}catch(f){return Promise.reject(f)}for(p=0,m=u.length;p<m;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=Fe(this.defaults,e);const n=ca(e.baseURL,e.url,e.allowAbsoluteUrls);return sa(n,e.params,e.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(e){$e.prototype[e]=function(n,s){return this.request(Fe(s||{},{method:e,url:n,data:(s||{}).data}))}});y.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,l){return this.request(Fe(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}$e.prototype[e]=n(),$e.prototype[e+"Form"]=n(!0)});let ll=class ma{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new Je(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ma(function(a){e=a}),cancel:e}}};function cl(t){return function(n){return t.apply(null,n)}}function dl(t){return y.isObject(t)&&t.isAxiosError===!0}const _r={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_r).forEach(([t,e])=>{_r[e]=t});function ha(t){const e=new $e(t),n=Vs($e.prototype.request,e);return y.extend(n,$e.prototype,e,{allOwnKeys:!0}),y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return ha(Fe(t,a))},n}const B=ha(pt);B.Axios=$e;B.CanceledError=Je;B.CancelToken=ll;B.isCancel=oa;B.VERSION=pa;B.toFormData=Ht;B.AxiosError=C;B.Cancel=B.CanceledError;B.all=function(e){return Promise.all(e)};B.spread=cl;B.isAxiosError=dl;B.mergeConfig=Fe;B.AxiosHeaders=Y;B.formToJSON=t=>ia(y.isHTMLForm(t)?new FormData(t):t);B.getAdapter=fa.getAdapter;B.HttpStatusCode=_r;B.default=B;const{Axios:rf,AxiosError:nf,CanceledError:sf,isCancel:af,CancelToken:of,VERSION:lf,all:cf,Cancel:df,isAxiosError:uf,spread:ff,toFormData:pf,AxiosHeaders:mf,HttpStatusCode:hf,formToJSON:yf,getAdapter:xf,mergeConfig:gf}=B;var Ke=TypeError;const ul={},fl=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"})),pl=ui(fl);var Jr=typeof Map=="function"&&Map.prototype,sr=Object.getOwnPropertyDescriptor&&Jr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,It=Jr&&sr&&typeof sr.get=="function"?sr.get:null,Cn=Jr&&Map.prototype.forEach,Kr=typeof Set=="function"&&Set.prototype,ar=Object.getOwnPropertyDescriptor&&Kr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ft=Kr&&ar&&typeof ar.get=="function"?ar.get:null,_n=Kr&&Set.prototype.forEach,ml=typeof WeakMap=="function"&&WeakMap.prototype,tt=ml?WeakMap.prototype.has:null,hl=typeof WeakSet=="function"&&WeakSet.prototype,rt=hl?WeakSet.prototype.has:null,yl=typeof WeakRef=="function"&&WeakRef.prototype,Pn=yl?WeakRef.prototype.deref:null,xl=Boolean.prototype.valueOf,gl=Object.prototype.toString,vl=Function.prototype.toString,bl=String.prototype.match,Qr=String.prototype.slice,Se=String.prototype.replace,wl=String.prototype.toUpperCase,$n=String.prototype.toLowerCase,ya=RegExp.prototype.test,In=Array.prototype.concat,pe=Array.prototype.join,jl=Array.prototype.slice,Fn=Math.floor,Pr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ir=Object.getOwnPropertySymbols,$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,We=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===We||!0)?Symbol.toStringTag:null,xa=Object.prototype.propertyIsEnumerable,Dn=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Un(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ya.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var s=t<0?-Fn(-t):Fn(t);if(s!==t){var a=String(s),i=Qr.call(e,a.length+1);return Se.call(a,n,"$&_")+"."+Se.call(Se.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Se.call(e,n,"$&_")}var Ir=pl,Ln=Ir.custom,qn=ba(Ln)?Ln:null,ga={__proto__:null,double:'"',single:"'"},Nl={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Vt=function t(e,n,s,a){var i=n||{};if(ye(i,"quoteStyle")&&!ye(ga,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ye(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ye(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ye(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ye(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ja(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?Un(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return l?Un(e,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof s>"u"&&(s=0),s>=d&&d>0&&typeof e=="object")return Fr(e)?"[Array]":"[Object]";var p=Ml(i,s);if(typeof a>"u")a=[];else if(wa(a,e)>=0)return"[Circular]";function m(q,z,O){if(z&&(a=jl.call(a),a.push(z)),O){var P={depth:i.depth};return ye(i,"quoteStyle")&&(P.quoteStyle=i.quoteStyle),t(q,P,s+1,a)}return t(q,i,s+1,a)}if(typeof e=="function"&&!Mn(e)){var w=_l(e),f=gt(e,m);return"[Function"+(w?": "+w:" (anonymous)")+"]"+(f.length>0?" { "+pe.call(f,", ")+" }":"")}if(ba(e)){var g=We?Se.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$r.call(e);return typeof e=="object"&&!We?Ze(g):g}if(Ul(e)){for(var h="<"+$n.call(String(e.nodeName)),S=e.attributes||[],A=0;A<S.length;A++)h+=" "+S[A].name+"="+va(Sl(S[A].value),"double",i);return h+=">",e.childNodes&&e.childNodes.length&&(h+="..."),h+="</"+$n.call(String(e.nodeName))+">",h}if(Fr(e)){if(e.length===0)return"[]";var b=gt(e,m);return p&&!ql(b)?"["+Dr(b,p)+"]":"[ "+pe.call(b,", ")+" ]"}if(Ol(e)){var j=gt(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!xa.call(e,"cause")?"{ ["+String(e)+"] "+pe.call(In.call("[cause]: "+m(e.cause),j),", ")+" }":j.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+pe.call(j,", ")+" }"}if(typeof e=="object"&&o){if(qn&&typeof e[qn]=="function"&&Ir)return Ir(e,{depth:d-s});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Pl(e)){var k=[];return Cn&&Cn.call(e,function(q,z){k.push(m(z,e,!0)+" => "+m(q,e))}),Bn("Map",It.call(e),k,p)}if(Fl(e)){var x=[];return _n&&_n.call(e,function(q){x.push(m(q,e))}),Bn("Set",Ft.call(e),x,p)}if($l(e))return or("WeakMap");if(Dl(e))return or("WeakSet");if(Il(e))return or("WeakRef");if(Tl(e))return Ze(m(Number(e)));if(kl(e))return Ze(m(Pr.call(e)));if(Rl(e))return Ze(xl.call(e));if(Al(e))return Ze(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof dn<"u"&&e===dn)return"{ [object globalThis] }";if(!El(e)&&!Mn(e)){var E=gt(e,m),_=Dn?Dn(e)===Object.prototype:e instanceof Object||e.constructor===Object,N=e instanceof Object?"":"null prototype",L=!_&&nt&&Object(e)===e&&nt in e?Qr.call(Ae(e),8,-1):N?"Object":"",ee=_||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",G=ee+(L||N?"["+pe.call(In.call([],L||[],N||[]),": ")+"] ":"");return E.length===0?G+"{}":p?G+"{"+Dr(E,p)+"}":G+"{ "+pe.call(E,", ")+" }"}return String(e)};function va(t,e,n){var s=n.quoteStyle||e,a=ga[s];return a+t+a}function Sl(t){return Se.call(String(t),/"/g,"&quot;")}function De(t){return!nt||!(typeof t=="object"&&(nt in t||typeof t[nt]<"u"))}function Fr(t){return Ae(t)==="[object Array]"&&De(t)}function El(t){return Ae(t)==="[object Date]"&&De(t)}function Mn(t){return Ae(t)==="[object RegExp]"&&De(t)}function Ol(t){return Ae(t)==="[object Error]"&&De(t)}function Al(t){return Ae(t)==="[object String]"&&De(t)}function Tl(t){return Ae(t)==="[object Number]"&&De(t)}function Rl(t){return Ae(t)==="[object Boolean]"&&De(t)}function ba(t){if(We)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$r)return!1;try{return $r.call(t),!0}catch{}return!1}function kl(t){if(!t||typeof t!="object"||!Pr)return!1;try{return Pr.call(t),!0}catch{}return!1}var Cl=Object.prototype.hasOwnProperty||function(t){return t in this};function ye(t,e){return Cl.call(t,e)}function Ae(t){return gl.call(t)}function _l(t){if(t.name)return t.name;var e=bl.call(vl.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function wa(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,s=t.length;n<s;n++)if(t[n]===e)return n;return-1}function Pl(t){if(!It||!t||typeof t!="object")return!1;try{It.call(t);try{Ft.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function $l(t){if(!tt||!t||typeof t!="object")return!1;try{tt.call(t,tt);try{rt.call(t,rt)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Il(t){if(!Pn||!t||typeof t!="object")return!1;try{return Pn.call(t),!0}catch{}return!1}function Fl(t){if(!Ft||!t||typeof t!="object")return!1;try{Ft.call(t);try{It.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Dl(t){if(!rt||!t||typeof t!="object")return!1;try{rt.call(t,rt);try{tt.call(t,tt)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Ul(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ja(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,s="... "+n+" more character"+(n>1?"s":"");return ja(Qr.call(t,0,e.maxStringLength),e)+s}var a=Nl[e.quoteStyle||"single"];a.lastIndex=0;var i=Se.call(Se.call(t,a,"\\$1"),/[\x00-\x1f]/g,Ll);return va(i,"single",e)}function Ll(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+wl.call(e.toString(16))}function Ze(t){return"Object("+t+")"}function or(t){return t+" { ? }"}function Bn(t,e,n,s){var a=s?Dr(n,s):pe.call(n,", ");return t+" ("+e+") {"+a+"}"}function ql(t){for(var e=0;e<t.length;e++)if(wa(t[e],`
`)>=0)return!1;return!0}function Ml(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=pe.call(Array(t.indent+1)," ");else return null;return{base:n,prev:pe.call(Array(e+1),n)}}function Dr(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+pe.call(t,","+n)+`
`+e.prev}function gt(t,e){var n=Fr(t),s=[];if(n){s.length=t.length;for(var a=0;a<t.length;a++)s[a]=ye(t,a)?e(t[a],t):""}var i=typeof ir=="function"?ir(t):[],o;if(We){o={};for(var l=0;l<i.length;l++)o["$"+i[l]]=i[l]}for(var c in t)ye(t,c)&&(n&&String(Number(c))===c&&c<t.length||We&&o["$"+c]instanceof Symbol||(ya.call(/[^\w$]/,c)?s.push(e(c,t)+": "+e(t[c],t)):s.push(c+": "+e(t[c],t))));if(typeof ir=="function")for(var u=0;u<i.length;u++)xa.call(t,i[u])&&s.push("["+e(i[u])+"]: "+e(t[i[u]],t));return s}var Bl=Vt,zl=Ke,Gt=function(t,e,n){for(var s=t,a;(a=s.next)!=null;s=a)if(a.key===e)return s.next=a.next,n||(a.next=t.next,t.next=a),a},Hl=function(t,e){if(t){var n=Gt(t,e);return n&&n.value}},Wl=function(t,e,n){var s=Gt(t,e);s?s.value=n:t.next={key:e,next:t.next,value:n}},Vl=function(t,e){return t?!!Gt(t,e):!1},Gl=function(t,e){if(t)return Gt(t,e,!0)},Jl=function(){var e,n={assert:function(s){if(!n.has(s))throw new zl("Side channel does not contain "+Bl(s))},delete:function(s){var a=e&&e.next,i=Gl(e,s);return i&&a&&a===i&&(e=void 0),!!i},get:function(s){return Hl(e,s)},has:function(s){return Vl(e,s)},set:function(s,a){e||(e={next:void 0}),Wl(e,s,a)}};return n},Na=Object,Kl=Error,Ql=EvalError,Xl=RangeError,Zl=ReferenceError,Yl=SyntaxError,ec=URIError,tc=Math.abs,rc=Math.floor,nc=Math.max,sc=Math.min,ac=Math.pow,ic=Math.round,oc=Number.isNaN||function(e){return e!==e},lc=oc,cc=function(e){return lc(e)||e===0?e:e<0?-1:1},dc=Object.getOwnPropertyDescriptor,At=dc;if(At)try{At([],"length")}catch{At=null}var Sa=At,Tt=Object.defineProperty||!1;if(Tt)try{Tt({},"a",{value:1})}catch{Tt=!1}var uc=Tt,lr,zn;function fc(){return zn||(zn=1,lr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),s=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;e[n]=a;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==a||l.enumerable!==!0)return!1}return!0}),lr}var cr,Hn;function pc(){if(Hn)return cr;Hn=1;var t=typeof Symbol<"u"&&Symbol,e=fc();return cr=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},cr}var dr,Wn;function Ea(){return Wn||(Wn=1,dr=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),dr}var ur,Vn;function Oa(){if(Vn)return ur;Vn=1;var t=Na;return ur=t.getPrototypeOf||null,ur}var fr,Gn;function mc(){if(Gn)return fr;Gn=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,s="[object Function]",a=function(c,u){for(var d=[],p=0;p<c.length;p+=1)d[p]=c[p];for(var m=0;m<u.length;m+=1)d[m+c.length]=u[m];return d},i=function(c,u){for(var d=[],p=u,m=0;p<c.length;p+=1,m+=1)d[m]=c[p];return d},o=function(l,c){for(var u="",d=0;d<l.length;d+=1)u+=l[d],d+1<l.length&&(u+=c);return u};return fr=function(c){var u=this;if(typeof u!="function"||e.apply(u)!==s)throw new TypeError(t+u);for(var d=i(arguments,1),p,m=function(){if(this instanceof p){var S=u.apply(this,a(d,arguments));return Object(S)===S?S:this}return u.apply(c,a(d,arguments))},w=n(0,u.length-d.length),f=[],g=0;g<w;g++)f[g]="$"+g;if(p=Function("binder","return function ("+o(f,",")+"){ return binder.apply(this,arguments); }")(m),u.prototype){var h=function(){};h.prototype=u.prototype,p.prototype=new h,h.prototype=null}return p},fr}var pr,Jn;function Jt(){if(Jn)return pr;Jn=1;var t=mc();return pr=Function.prototype.bind||t,pr}var mr,Kn;function Xr(){return Kn||(Kn=1,mr=Function.prototype.call),mr}var hr,Qn;function Aa(){return Qn||(Qn=1,hr=Function.prototype.apply),hr}var hc=typeof Reflect<"u"&&Reflect&&Reflect.apply,yc=Jt(),xc=Aa(),gc=Xr(),vc=hc,bc=vc||yc.call(gc,xc),wc=Jt(),jc=Ke,Nc=Xr(),Sc=bc,Ta=function(e){if(e.length<1||typeof e[0]!="function")throw new jc("a function is required");return Sc(wc,Nc,e)},yr,Xn;function Ec(){if(Xn)return yr;Xn=1;var t=Ta,e=Sa,n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var s=!!n&&e&&e(Object.prototype,"__proto__"),a=Object,i=a.getPrototypeOf;return yr=s&&typeof s.get=="function"?t([s.get]):typeof i=="function"?function(l){return i(l==null?l:a(l))}:!1,yr}var xr,Zn;function Oc(){if(Zn)return xr;Zn=1;var t=Ea(),e=Oa(),n=Ec();return xr=t?function(a){return t(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:n?function(a){return n(a)}:null,xr}var gr,Yn;function Ac(){if(Yn)return gr;Yn=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Jt();return gr=n.call(t,e),gr}var $,Tc=Na,Rc=Kl,kc=Ql,Cc=Xl,_c=Zl,Ve=Yl,Be=Ke,Pc=ec,$c=tc,Ic=rc,Fc=nc,Dc=sc,Uc=ac,Lc=ic,qc=cc,Ra=Function,vr=function(t){try{return Ra('"use strict"; return ('+t+").constructor;")()}catch{}},at=Sa,Mc=uc,br=function(){throw new Be},Bc=at?function(){try{return arguments.callee,br}catch{try{return at(arguments,"callee").get}catch{return br}}}():br,Ue=pc()(),W=Oc(),zc=Oa(),Hc=Ea(),ka=Aa(),mt=Xr(),Me={},Wc=typeof Uint8Array>"u"||!W?$:W(Uint8Array),Ie={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$:ArrayBuffer,"%ArrayIteratorPrototype%":Ue&&W?W([][Symbol.iterator]()):$,"%AsyncFromSyncIteratorPrototype%":$,"%AsyncFunction%":Me,"%AsyncGenerator%":Me,"%AsyncGeneratorFunction%":Me,"%AsyncIteratorPrototype%":Me,"%Atomics%":typeof Atomics>"u"?$:Atomics,"%BigInt%":typeof BigInt>"u"?$:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Rc,"%eval%":eval,"%EvalError%":kc,"%Float16Array%":typeof Float16Array>"u"?$:Float16Array,"%Float32Array%":typeof Float32Array>"u"?$:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$:FinalizationRegistry,"%Function%":Ra,"%GeneratorFunction%":Me,"%Int8Array%":typeof Int8Array>"u"?$:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ue&&W?W(W([][Symbol.iterator]())):$,"%JSON%":typeof JSON=="object"?JSON:$,"%Map%":typeof Map>"u"?$:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ue||!W?$:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Tc,"%Object.getOwnPropertyDescriptor%":at,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$:Promise,"%Proxy%":typeof Proxy>"u"?$:Proxy,"%RangeError%":Cc,"%ReferenceError%":_c,"%Reflect%":typeof Reflect>"u"?$:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ue||!W?$:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ue&&W?W(""[Symbol.iterator]()):$,"%Symbol%":Ue?Symbol:$,"%SyntaxError%":Ve,"%ThrowTypeError%":Bc,"%TypedArray%":Wc,"%TypeError%":Be,"%Uint8Array%":typeof Uint8Array>"u"?$:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$:Uint32Array,"%URIError%":Pc,"%WeakMap%":typeof WeakMap>"u"?$:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$:WeakSet,"%Function.prototype.call%":mt,"%Function.prototype.apply%":ka,"%Object.defineProperty%":Mc,"%Object.getPrototypeOf%":zc,"%Math.abs%":$c,"%Math.floor%":Ic,"%Math.max%":Fc,"%Math.min%":Dc,"%Math.pow%":Uc,"%Math.round%":Lc,"%Math.sign%":qc,"%Reflect.getPrototypeOf%":Hc};if(W)try{null.error}catch(t){var Vc=W(W(t));Ie["%Error.prototype%"]=Vc}var Gc=function t(e){var n;if(e==="%AsyncFunction%")n=vr("async function () {}");else if(e==="%GeneratorFunction%")n=vr("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=vr("async function* () {}");else if(e==="%AsyncGenerator%"){var s=t("%AsyncGeneratorFunction%");s&&(n=s.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&W&&(n=W(a.prototype))}return Ie[e]=n,n},es={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ht=Jt(),Dt=Ac(),Jc=ht.call(mt,Array.prototype.concat),Kc=ht.call(ka,Array.prototype.splice),ts=ht.call(mt,String.prototype.replace),Ut=ht.call(mt,String.prototype.slice),Qc=ht.call(mt,RegExp.prototype.exec),Xc=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Zc=/\\(\\)?/g,Yc=function(e){var n=Ut(e,0,1),s=Ut(e,-1);if(n==="%"&&s!=="%")throw new Ve("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&n!=="%")throw new Ve("invalid intrinsic syntax, expected opening `%`");var a=[];return ts(e,Xc,function(i,o,l,c){a[a.length]=l?ts(c,Zc,"$1"):o||i}),a},ed=function(e,n){var s=e,a;if(Dt(es,s)&&(a=es[s],s="%"+a[0]+"%"),Dt(Ie,s)){var i=Ie[s];if(i===Me&&(i=Gc(s)),typeof i>"u"&&!n)throw new Be("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:s,value:i}}throw new Ve("intrinsic "+e+" does not exist!")},Zr=function(e,n){if(typeof e!="string"||e.length===0)throw new Be("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Be('"allowMissing" argument must be a boolean');if(Qc(/^%?[^%]*%?$/,e)===null)throw new Ve("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=Yc(e),a=s.length>0?s[0]:"",i=ed("%"+a+"%",n),o=i.name,l=i.value,c=!1,u=i.alias;u&&(a=u[0],Kc(s,Jc([0,1],u)));for(var d=1,p=!0;d<s.length;d+=1){var m=s[d],w=Ut(m,0,1),f=Ut(m,-1);if((w==='"'||w==="'"||w==="`"||f==='"'||f==="'"||f==="`")&&w!==f)throw new Ve("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(c=!0),a+="."+m,o="%"+a+"%",Dt(Ie,o))l=Ie[o];else if(l!=null){if(!(m in l)){if(!n)throw new Be("base intrinsic for "+e+" exists, but the property is not available.");return}if(at&&d+1>=s.length){var g=at(l,m);p=!!g,p&&"get"in g&&!("originalValue"in g.get)?l=g.get:l=l[m]}else p=Dt(l,m),l=l[m];p&&!c&&(Ie[o]=l)}}return l},Ca=Zr,_a=Ta,td=_a([Ca("%String.prototype.indexOf%")]),Pa=function(e,n){var s=Ca(e,!!n);return typeof s=="function"&&td(e,".prototype.")>-1?_a([s]):s},rd=Zr,yt=Pa,nd=Vt,sd=Ke,rs=rd("%Map%",!0),ad=yt("Map.prototype.get",!0),id=yt("Map.prototype.set",!0),od=yt("Map.prototype.has",!0),ld=yt("Map.prototype.delete",!0),cd=yt("Map.prototype.size",!0),$a=!!rs&&function(){var e,n={assert:function(s){if(!n.has(s))throw new sd("Side channel does not contain "+nd(s))},delete:function(s){if(e){var a=ld(e,s);return cd(e)===0&&(e=void 0),a}return!1},get:function(s){if(e)return ad(e,s)},has:function(s){return e?od(e,s):!1},set:function(s,a){e||(e=new rs),id(e,s,a)}};return n},dd=Zr,Kt=Pa,ud=Vt,vt=$a,fd=Ke,Le=dd("%WeakMap%",!0),pd=Kt("WeakMap.prototype.get",!0),md=Kt("WeakMap.prototype.set",!0),hd=Kt("WeakMap.prototype.has",!0),yd=Kt("WeakMap.prototype.delete",!0),xd=Le?function(){var e,n,s={assert:function(a){if(!s.has(a))throw new fd("Side channel does not contain "+ud(a))},delete:function(a){if(Le&&a&&(typeof a=="object"||typeof a=="function")){if(e)return yd(e,a)}else if(vt&&n)return n.delete(a);return!1},get:function(a){return Le&&a&&(typeof a=="object"||typeof a=="function")&&e?pd(e,a):n&&n.get(a)},has:function(a){return Le&&a&&(typeof a=="object"||typeof a=="function")&&e?hd(e,a):!!n&&n.has(a)},set:function(a,i){Le&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Le),md(e,a,i)):vt&&(n||(n=vt()),n.set(a,i))}};return s}:vt,gd=Ke,vd=Vt,bd=Jl,wd=$a,jd=xd,Nd=jd||wd||bd,Ia=function(){var e,n={assert:function(s){if(!n.has(s))throw new gd("Side channel does not contain "+vd(s))},delete:function(s){return!!e&&e.delete(s)},get:function(s){return e&&e.get(s)},has:function(s){return!!e&&e.has(s)},set:function(s,a){e||(e=Nd()),e.set(s,a)}};return n},Sd=String.prototype.replace,Ed=/%20/g,wr={RFC1738:"RFC1738",RFC3986:"RFC3986"},Yr={default:wr.RFC3986,formatters:{RFC1738:function(t){return Sd.call(t,Ed,"+")},RFC3986:function(t){return String(t)}},RFC1738:wr.RFC1738,RFC3986:wr.RFC3986},Od=Yr,Ad=Ia,jr=Object.prototype.hasOwnProperty,_e=Array.isArray,Qt=Ad(),Fa=function(e,n){return Qt.set(e,n),e},Lt=function(e){return Qt.has(e)},Ur=function(e){return Qt.get(e)},Da=function(e,n){Qt.set(e,n)},ue=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Td=function(e){for(;e.length>1;){var n=e.pop(),s=n.obj[n.prop];if(_e(s)){for(var a=[],i=0;i<s.length;++i)typeof s[i]<"u"&&a.push(s[i]);n.obj[n.prop]=a}}},en=function(e,n){for(var s=n&&n.plainObjects?{__proto__:null}:{},a=0;a<e.length;++a)typeof e[a]<"u"&&(s[a]=e[a]);return s},Rd=function t(e,n,s){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(_e(e))e.push(n);else if(e&&typeof e=="object")if(Lt(e)){var a=Ur(e)+1;e[a]=n,Da(e,a)}else(s&&(s.plainObjects||s.allowPrototypes)||!jr.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object"){if(Lt(n)){for(var i=Object.keys(n),o=s&&s.plainObjects?{__proto__:null,0:e}:{0:e},l=0;l<i.length;l++){var c=parseInt(i[l],10);o[c+1]=n[i[l]]}return Fa(o,Ur(n)+1)}return[e].concat(n)}var u=e;return _e(e)&&!_e(n)&&(u=en(e,s)),_e(e)&&_e(n)?(n.forEach(function(d,p){if(jr.call(e,p)){var m=e[p];m&&typeof m=="object"&&d&&typeof d=="object"?e[p]=t(m,d,s):e.push(d)}else e[p]=d}),e):Object.keys(n).reduce(function(d,p){var m=n[p];return jr.call(d,p)?d[p]=t(d[p],m,s):d[p]=m,d},u)},kd=function(e,n){return Object.keys(n).reduce(function(s,a){return s[a]=n[a],s},e)},Cd=function(t,e,n){var s=t.replace(/\+/g," ");if(n==="iso-8859-1")return s.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(s)}catch{return s}},Nr=1024,_d=function(e,n,s,a,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),s==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(w){return"%26%23"+parseInt(w.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;c+=Nr){for(var u=o.length>=Nr?o.slice(c,c+Nr):o,d=[],p=0;p<u.length;++p){var m=u.charCodeAt(p);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||i===Od.RFC1738&&(m===40||m===41)){d[d.length]=u.charAt(p);continue}if(m<128){d[d.length]=ue[m];continue}if(m<2048){d[d.length]=ue[192|m>>6]+ue[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=ue[224|m>>12]+ue[128|m>>6&63]+ue[128|m&63];continue}p+=1,m=65536+((m&1023)<<10|u.charCodeAt(p)&1023),d[d.length]=ue[240|m>>18]+ue[128|m>>12&63]+ue[128|m>>6&63]+ue[128|m&63]}l+=d.join("")}return l},Pd=function(e){for(var n=[{obj:{o:e},prop:"o"}],s=[],a=0;a<n.length;++a)for(var i=n[a],o=i.obj[i.prop],l=Object.keys(o),c=0;c<l.length;++c){var u=l[c],d=o[u];typeof d=="object"&&d!==null&&s.indexOf(d)===-1&&(n.push({obj:o,prop:u}),s.push(d))}return Td(n),e},$d=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Id=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Fd=function(e,n,s,a){if(Lt(e)){var i=Ur(e)+1;return e[i]=n,Da(e,i),e}var o=[].concat(e,n);return o.length>s?Fa(en(o,{plainObjects:a}),o.length-1):o},Dd=function(e,n){if(_e(e)){for(var s=[],a=0;a<e.length;a+=1)s.push(n(e[a]));return s}return n(e)},Ua={arrayToObject:en,assign:kd,combine:Fd,compact:Pd,decode:Cd,encode:_d,isBuffer:Id,isOverflow:Lt,isRegExp:$d,maybeMap:Dd,merge:Rd},La=Ia,Rt=Ua,st=Yr,Ud=Object.prototype.hasOwnProperty,qa={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},fe=Array.isArray,Ld=Array.prototype.push,Ma=function(t,e){Ld.apply(t,fe(e)?e:[e])},qd=Date.prototype.toISOString,ns=st.default,H={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Rt.encode,encodeValuesOnly:!1,filter:void 0,format:ns,formatter:st.formatters[ns],indices:!1,serializeDate:function(e){return qd.call(e)},skipNulls:!1,strictNullHandling:!1},Md=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Sr={},Bd=function t(e,n,s,a,i,o,l,c,u,d,p,m,w,f,g,h,S,A){for(var b=e,j=A,k=0,x=!1;(j=j.get(Sr))!==void 0&&!x;){var E=j.get(e);if(k+=1,typeof E<"u"){if(E===k)throw new RangeError("Cyclic object value");x=!0}typeof j.get(Sr)>"u"&&(k=0)}if(typeof d=="function"?b=d(n,b):b instanceof Date?b=w(b):s==="comma"&&fe(b)&&(b=Rt.maybeMap(b,function(we){return we instanceof Date?w(we):we})),b===null){if(o)return u&&!h?u(n,H.encoder,S,"key",f):n;b=""}if(Md(b)||Rt.isBuffer(b)){if(u){var _=h?n:u(n,H.encoder,S,"key",f);return[g(_)+"="+g(u(b,H.encoder,S,"value",f))]}return[g(n)+"="+g(String(b))]}var N=[];if(typeof b>"u")return N;var L;if(s==="comma"&&fe(b))h&&u&&(b=Rt.maybeMap(b,u)),L=[{value:b.length>0?b.join(",")||null:void 0}];else if(fe(d))L=d;else{var ee=Object.keys(b);L=p?ee.sort(p):ee}var G=c?String(n).replace(/\./g,"%2E"):String(n),q=a&&fe(b)&&b.length===1?G+"[]":G;if(i&&fe(b)&&b.length===0)return q+"[]";for(var z=0;z<L.length;++z){var O=L[z],P=typeof O=="object"&&O&&typeof O.value<"u"?O.value:b[O];if(!(l&&P===null)){var K=m&&c?String(O).replace(/\./g,"%2E"):String(O),se=fe(b)?typeof s=="function"?s(q,K):q:q+(m?"."+K:"["+K+"]");A.set(e,k);var Te=La();Te.set(Sr,A),Ma(N,t(P,se,s,a,i,o,l,c,s==="comma"&&h&&fe(b)?null:u,d,p,m,w,f,g,h,S,Te))}}return N},zd=function(e){if(!e)return H;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||H.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=st.default;if(typeof e.format<"u"){if(!Ud.call(st.formatters,e.format))throw new TypeError("Unknown format option provided.");s=e.format}var a=st.formatters[s],i=H.filter;(typeof e.filter=="function"||fe(e.filter))&&(i=e.filter);var o;if(e.arrayFormat in qa?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=H.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:H.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:H.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:H.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:H.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?H.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:H.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:H.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:H.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:H.encodeValuesOnly,filter:i,format:s,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:H.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:H.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:H.strictNullHandling}},Hd=function(t,e){var n=t,s=zd(e),a,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):fe(s.filter)&&(i=s.filter,a=i);var o=[];if(typeof n!="object"||n===null)return"";var l=qa[s.arrayFormat],c=l==="comma"&&s.commaRoundTrip;a||(a=Object.keys(n)),s.sort&&a.sort(s.sort);for(var u=La(),d=0;d<a.length;++d){var p=a[d],m=n[p];s.skipNulls&&m===null||Ma(o,Bd(m,p,l,c,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,u))}var w=o.join(s.delimiter),f=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),w.length>0?f+w:""},Ee=Ua,kt=Object.prototype.hasOwnProperty,ss=Array.isArray,M={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ee.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Wd=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Ba=function(t,e,n){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&n>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Vd="utf8=%26%2310003%3B",Gd="utf8=%E2%9C%93",Jd=function(e,n){var s={__proto__:null},a=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=n.parameterLimit===1/0?void 0:n.parameterLimit,o=a.split(n.delimiter,n.throwOnLimitExceeded?i+1:i);if(n.throwOnLimitExceeded&&o.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var l=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Gd?u="utf-8":o[c]===Vd&&(u="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var d=o[c],p=d.indexOf("]="),m=p===-1?d.indexOf("="):p+1,w,f;if(m===-1?(w=n.decoder(d,M.decoder,u,"key"),f=n.strictNullHandling?null:""):(w=n.decoder(d.slice(0,m),M.decoder,u,"key"),w!==null&&(f=Ee.maybeMap(Ba(d.slice(m+1),n,ss(s[w])?s[w].length:0),function(h){return n.decoder(h,M.decoder,u,"value")}))),f&&n.interpretNumericEntities&&u==="iso-8859-1"&&(f=Wd(String(f))),d.indexOf("[]=")>-1&&(f=ss(f)?[f]:f),w!==null){var g=kt.call(s,w);g&&n.duplicates==="combine"?s[w]=Ee.combine(s[w],f,n.arrayLimit,n.plainObjects):(!g||n.duplicates==="last")&&(s[w]=f)}}return s},Kd=function(t,e,n,s){var a=0;if(t.length>0&&t[t.length-1]==="[]"){var i=t.slice(0,-1).join("");a=Array.isArray(e)&&e[i]?e[i].length:0}for(var o=s?e:Ba(e,n,a),l=t.length-1;l>=0;--l){var c,u=t[l];if(u==="[]"&&n.parseArrays)Ee.isOverflow(o)?c=o:c=n.allowEmptyArrays&&(o===""||n.strictNullHandling&&o===null)?[]:Ee.combine([],o,n.arrayLimit,n.plainObjects);else{c=n.plainObjects?{__proto__:null}:{};var d=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,p=n.decodeDotInKeys?d.replace(/%2E/g,"."):d,m=parseInt(p,10);!n.parseArrays&&p===""?c={0:o}:!isNaN(m)&&u!==p&&String(m)===p&&m>=0&&n.parseArrays&&m<=n.arrayLimit?(c=[],c[m]=o):p!=="__proto__"&&(c[p]=o)}o=c}return o},Qd=function(e,n){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(n.depth<=0)return!n.plainObjects&&kt.call(Object.prototype,s)&&!n.allowPrototypes?void 0:[s];var a=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,o=a.exec(s),l=o?s.slice(0,o.index):s,c=[];if(l){if(!n.plainObjects&&kt.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var u=0;(o=i.exec(s))!==null&&u<n.depth;){u+=1;var d=o[1].slice(1,-1);if(!n.plainObjects&&kt.call(Object.prototype,d)&&!n.allowPrototypes)return;c.push(o[1])}if(o){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+s.slice(o.index)+"]")}return c},Xd=function(e,n,s,a){if(e){var i=Qd(e,s);if(i)return Kd(i,n,s,a)}},Zd=function(e){if(!e)return M;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var n=typeof e.charset>"u"?M.charset:e.charset,s=typeof e.duplicates>"u"?M.duplicates:e.duplicates;if(s!=="combine"&&s!=="first"&&s!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:M.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:M.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:M.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:M.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:M.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:M.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:M.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:M.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:M.decoder,delimiter:typeof e.delimiter=="string"||Ee.isRegExp(e.delimiter)?e.delimiter:M.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:M.depth,duplicates:s,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:M.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:M.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:M.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:M.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Yd=function(t,e){var n=Zd(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?{__proto__:null}:{};for(var s=typeof t=="string"?Jd(t,n):t,a=n.plainObjects?{__proto__:null}:{},i=Object.keys(s),o=0;o<i.length;++o){var l=i[o],c=Xd(l,s[l],n,typeof t=="string");a=Ee.merge(a,c,n)}return n.allowSparse===!0?a:Ee.compact(a)},eu=Hd,tu=Yd,ru=Yr,nu={formats:ru,parse:tu,stringify:eu};const su=fi(nu),au=t=>{var n,s,a,i,o,l,c,u,d,p;let e=(n=t.response)==null?void 0:n.status;if(e&&e>=400&&e!==401)try{typeof window<"u"&&window.top&&((p=window.top)==null||p.postMessage({type:"mgx-appview-error",targetName:window.name,data:{errMsg:((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||((o=(i=t.response)==null?void 0:i.data)==null?void 0:o.detail)||"Server Error",stack:JSON.stringify({url:(c=(l=t.response)==null?void 0:l.config)==null?void 0:c.url,data:(u=t.response)==null?void 0:u.data,status:(d=t.response)==null?void 0:d.status})}},"*"))}catch(m){console.warn("Failed to notify parent window about API error:",m)}},iu=(t={})=>{var o,l,c;let{onUnauthorized:e,...n}=t,s=typeof globalThis<"u"&&"localStorage"in globalThis&&typeof((o=globalThis.localStorage)==null?void 0:o.getItem)=="function"?globalThis.localStorage.getItem("token")??void 0:void 0,a={timeout:6e4,paramsSerializer:u=>su.stringify(u,{arrayFormat:"brackets"}),...n,headers:{"Content-Type":"application/json","App-Host":((c=(l=globalThis==null?void 0:globalThis.window)==null?void 0:l.location)==null?void 0:c.origin)??"",...s?{Authorization:`Bearer ${s}`}:{},...n.headers}},i=B.create(a);return i.interceptors.request.use(u=>u,u=>Promise.reject(u)),i.interceptors.response.use(u=>u,u=>{var p;return((p=u.response)==null?void 0:p.status)===401&&e&&e(),au(u),Promise.reject(u)}),i},ou=["stripe.com"],Lr=t=>typeof t=="string"?t.startsWith("_")||t.startsWith("$")||t==="constructor"||t==="toString"||t==="valueOf"||t==="inspect"||t==="toJSON":!0,as=()=>{var s;let t=((s=window.location)==null?void 0:s.href)??"",e="";t.startsWith("/")?e=t:t&&(e=t.replace(/^[a-z][a-z0-9+.-]*:\/\/[^/]+/i,""));let n=new URLSearchParams({from_url:e});window.location.href=`/api/v1/auth/login?${n.toString()}`},lu=()=>{var t,e;return(e=(t=globalThis==null?void 0:globalThis.window)==null?void 0:t.name)==null?void 0:e.includes("devIframe")},cu=t=>t?ou.some(e=>t.toString().includes(e)):!1,du=t=>{let{requestInstance:e}=t;return{async login(){var a,i;let n=new URLSearchParams(window.location.search),s=n.get("token");s&&typeof globalThis<"u"&&"localStorage"in globalThis?((a=globalThis.localStorage)==null||a.setItem("token",s),(i=globalThis.localStorage)==null||i.setItem("isLougOutManual","false"),window.location.href="/"):setTimeout(()=>{as()})},async me(){return e.get("/api/v1/auth/me")},async logout(){var s,a;typeof globalThis<"u"&&"localStorage"in globalThis&&((s=globalThis.localStorage)==null||s.removeItem("token"),(a=globalThis.localStorage)==null||a.setItem("isLougOutManual","true"));let n=await e.get("/api/v1/auth/logout");return typeof globalThis<"u"&&"window"in globalThis&&(globalThis.window.opener=null),window.location.href="/",n},toLogin:as}},uu=t=>{let{requestInstance:e,entityName:n}=t,s=`/api/v1/entities/${n}`,a=i=>{if(!i)return;let o={...i};return i.fields&&Array.isArray(i.fields)&&(o.fields=i.fields.join(",")),i.query&&typeof i.query=="object"&&(o.query=JSON.stringify(i.query)),o};return{async query(i){let o=a(i);return e.get(s,{params:o})},async queryAll(i){let o=a(i);return e.get(`${s}/all`,{params:o})},async get(i){let{id:o,...l}=i,c=a(l);return e.get(`${s}/${o}`,{params:c})},async create(i){return e.post(s,i.data)},async update(i){return e.put(`${s}/${i.id}`,i.data)},async delete(i){return e.delete(`${s}/${i.id}`)},async deleteBatch(i){return e.delete(`${s}/batch`,{data:{ids:i.ids}})},async createBatch(i){return e.post(`${s}/batch`,i.data)},async updateBatch(i){return e.put(`${s}/batch`,i.data)}}},fu=t=>{let{requestInstance:e}=t,n=new Map;return new Proxy({},{get(s,a){if(!Lr(a))return n.has(a)||n.set(a,uu({requestInstance:e,entityName:a})),n.get(a)}})},pu=t=>{let{requestInstance:e}=t;return{async invoke(n){var c,u,d;let{url:s,method:a="GET",data:i,options:o={}}=n;if(typeof window<"u"&&(o==null?void 0:o.responseType)==="stream"){let p;try{typeof globalThis<"u"&&"localStorage"in globalThis&&typeof((c=globalThis.localStorage)==null?void 0:c.getItem)=="function"&&(p=globalThis.localStorage.getItem("token")??void 0)}catch{}let m={"Content-Type":"application/json","App-Host":((d=(u=globalThis==null?void 0:globalThis.window)==null?void 0:u.location)==null?void 0:d.origin)??"",...p?{Authorization:`Bearer ${p}`}:{},...o.headers||{}},w;return i&&["POST","PUT","PATCH"].includes(a.toUpperCase())&&(w=JSON.stringify(i)),await fetch(s,{method:a.toUpperCase(),headers:m,body:w})}let l={method:a.toUpperCase(),url:s,...o};return i&&["POST","PUT","PATCH"].includes(l.method)?l.data=i:i&&["GET","DELETE"].includes(l.method)&&(l.params=i),e.request(l)}}},mu=t=>{let{requestInstance:e}=t;return new Proxy({},{get(n,s){if(!Lr(s))return new Proxy({},{get(a,i){if(!Lr(i))return(o={})=>{let l=`/api/integrations/core/${i}`;s!=="core"&&(l=`/api/integrations/providers/${s}/${i}`);let{payload:c={},option:u={}}=o,d=c instanceof FormData?{...u,headers:{...u.headers,"Content-Type":void 0}}:u;return e.post(l,c,d)}}})}})};let is=null;const hu=t=>{var a;if(is)return;let{requestInstance:e}=t,n=async i=>{var u,d;if((u=globalThis==null?void 0:globalThis.localStorage)==null?void 0:u.getItem("token"))return;let l=i.token,c=await e.post("/api/v1/auth/token/exchange",{platform_token:l});c.status===200&&c.data.token&&((d=globalThis==null?void 0:globalThis.localStorage)==null||d.setItem("token",c.data.token),window.location.href="/")},s=i=>{switch(i.data.type){case"mgx-token-saved":n(i.data.data);break}};is={requestInstance:e,handleMessage:s},(a=globalThis==null?void 0:globalThis.window)==null||a.addEventListener("message",s)},za=()=>({postMessage:(e,n,s,a)=>{var i,o,l,c;if((globalThis==null?void 0:globalThis.window)===void 0||!((i=globalThis==null?void 0:globalThis.window)!=null&&i.top)){console.warn("postMessage: window.top is not available");return}try{let{targetOrigin:u="*",targetName:d=((o=globalThis==null?void 0:globalThis.window)==null?void 0:o.name)??""}=s||{},p={type:e,targetName:d,data:n};(c=a??((l=globalThis==null?void 0:globalThis.window)==null?void 0:l.top))==null||c.postMessage(p,u)}catch(u){console.warn("Failed to send postMessage:",u)}}});let os=!1;const yu=t=>{hu(t);let{postMessage:e}=za();return(()=>{var o,l,c,u,d,p,m,w;if(os)return;os=!0;let s=(o=globalThis==null?void 0:globalThis.localStorage)==null?void 0:o.getItem("token"),a=((l=globalThis==null?void 0:globalThis.localStorage)==null?void 0:l.getItem("isLougOutManual"))==="true",i=window.self!==window.top&&((c=window.name)==null?void 0:c.includes("devIframe"));!s&&!a&&i&&(e("mgx-token-request",{domain:((d=(u=globalThis==null?void 0:globalThis.window)==null?void 0:u.location)==null?void 0:d.href)??""},{},(p=globalThis==null?void 0:globalThis.window)==null?void 0:p.opener),e("mgx-token-request",{domain:((w=(m=globalThis==null?void 0:globalThis.window)==null?void 0:m.location)==null?void 0:w.href)??""}))})(),{createPage(s){var o,l;let{path:a,prompt:i}=s;e("mgx-create-page",{path:a??((l=(o=globalThis==null?void 0:globalThis.window)==null?void 0:o.location)==null?void 0:l.pathname)??"",prompt:i})}}},xu=()=>{let{postMessage:t}=za();return{openUrl:n=>{var s;if(n){if((globalThis==null?void 0:globalThis.window)===void 0){console.warn("openUrl: window is not available");return}if(cu(n)&&lu()){t("mgx-open-url",{url:n.toString()},{},(s=globalThis==null?void 0:globalThis.window)==null?void 0:s.opener);return}globalThis.window.location.href=n.toString()}}}},gu=t=>{let{requestInstance:e}=t;async function n(i,o,l,c){var w,f,g,h,S;let u=(w=i.body)==null?void 0:w.getReader();if(!u){let A=Error("Response body is not readable");throw c==null||c(A),A}let d=new TextDecoder,p="",m="";try{for(;;){let{done:b,value:j}=await u.read();if(b)break;m+=d.decode(j,{stream:!0});let k=m.split(`
`);m=k.pop()||"";for(let x of k){if(!x.startsWith("data: "))continue;let E=x.slice(6).trim();if(E!=="[DONE]")try{let _=JSON.parse(E);if((f=_.content)!=null&&f.startsWith("[ERROR]")){let N=Error(_.content);throw c==null||c(N),N}_.content&&(p+=_.content,o==null||o({content:_.content}))}catch(_){if((g=_.message)!=null&&g.startsWith("[ERROR]"))throw _}}}if(m.startsWith("data: ")){let b=m.slice(6).trim();if(b!=="[DONE]")try{let j=JSON.parse(b);if((h=j.content)!=null&&h.startsWith("[ERROR]")){let k=Error(j.content);throw c==null||c(k),k}j.content&&(p+=j.content,o==null||o({content:j.content}))}catch(j){if((S=j.message)!=null&&S.startsWith("[ERROR]"))throw j}}let A={content:p};return l==null||l(A),A}catch(A){throw A instanceof Error&&(c==null||c(A)),A}}async function s(i){var m,w,f;let{messages:o,model:l,stream:c,timeout:u}=i,d="/api/v1/aihub/gentxt",p={messages:o,model:l,stream:c};if(c){let g=i,{onChunk:h,onComplete:S,onError:A}=g;if(typeof window<"u"){let j;try{typeof globalThis<"u"&&"localStorage"in globalThis&&typeof((m=globalThis.localStorage)==null?void 0:m.getItem)=="function"&&(j=globalThis.localStorage.getItem("token")??void 0)}catch{}let k={"Content-Type":"application/json","App-Host":((f=(w=globalThis==null?void 0:globalThis.window)==null?void 0:w.location)==null?void 0:f.origin)??"",...j?{Authorization:`Bearer ${j}`}:{}},x=new AbortController,E=u?setTimeout(()=>x.abort(),u):void 0;try{let _=await fetch(d,{method:"POST",headers:k,body:JSON.stringify(p),signal:x.signal});if(E&&clearTimeout(E),!_.ok){let N=Error(`HTTP error! status: ${_.status}`);throw A==null||A(N),N}return await n(_,h,S,A)}catch(_){throw E&&clearTimeout(E),_ instanceof Error&&(A==null||A(_)),_}}return{content:(await e.request({method:"POST",url:d,data:p,responseType:"stream",timeout:u})).data}}return e.request({method:"POST",url:d,data:p,timeout:u})}async function a(i,o={}){let{prompt:l,model:c,size:u="1024x1024",quality:d="standard",n:p=1,image:m}=i,{timeout:w=6e5}=o,f="/api/v1/aihub/genimg",g={prompt:l,model:c,size:u,n:p};return m||(g.quality=d),m&&(g.image=m),e.request({method:"POST",url:f,data:g,timeout:w})}return{gentxt:s,genimg:a}};function vu(t){return new Promise(e=>{let n=document.createElement("input");n.type="file",t&&(n.accept=t),n.onchange=()=>{var i;let a=((i=n.files)==null?void 0:i[0])??null;e(a)},n.oncancel=()=>{e(null)};let s=()=>{setTimeout(()=>{var a;(a=n.files)!=null&&a.length||e(null),window.removeEventListener("focus",s)},300)};window.addEventListener("focus",s),n.click()})}const bu=t=>{let{requestInstance:e}=t;async function n(p){return e.request({method:"POST",url:"/api/v1/storage/create-bucket",data:p})}async function s(){return e.request({method:"GET",url:"/api/v1/storage/list-buckets"})}async function a(p){return e.request({method:"GET",url:"/api/v1/storage/list-objects",params:p})}async function i(p){return e.request({method:"GET",url:"/api/v1/storage/get-object-info",params:p})}async function o(p){return e.request({method:"POST",url:"/api/v1/storage/rename-object",data:p})}async function l(p){return e.request({method:"POST",url:"/api/v1/storage/upload-url",data:p})}async function c(p){return e.request({method:"POST",url:"/api/v1/storage/download-url",data:p})}async function u(p){let{bucket_name:m,accept:w}=p,{file:f,object_key:g}=p;if(!f){if(typeof window>"u"||typeof document>"u")throw TypeError("File picker is only available in browser environment. Please provide a file.");let A=await vu(w);if(!A)throw Error("File selection cancelled");f=A}g||(g=f.name);let{data:h}=await l({bucket_name:m,object_key:g}),S=await fetch(h.upload_url,{method:"PUT",body:f,headers:{"Content-Type":f.type||"application/octet-stream"}});if(!S.ok)throw Error(`Upload failed with status ${S.status}: ${S.statusText}`);return{bucket_name:m,object_key:g,size:f.size,file_name:f.name}}async function d(p){let{data:m}=await c(p);if(typeof window<"u"&&typeof document<"u"){let w=document.createElement("a");w.href=m.download_url;let f=p.object_key.split("/").pop()||"download";w.download=f,document.body.appendChild(w),w.click(),document.body.removeChild(w)}return m.download_url}return{createBucket:n,listBuckets:s,listObjects:a,getObjectInfo:i,renameObject:o,getUploadUrl:l,getDownloadUrl:c,upload:u,download:d}},ne=(t={})=>{let e=iu({baseURL:"/",...t}),n=du({requestInstance:e}),s=fu({requestInstance:e}),a=pu({requestInstance:e}),i=mu({requestInstance:e}),o=yu({requestInstance:e}),l=xu(),c=gu({requestInstance:e}),u=bu({requestInstance:e});return{auth:n,entities:s,apiCall:a,integrations:i,frame:o,utils:l,ai:c,storage:u}},wu=qr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=v.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...a},i)=>{const o=s?Xa:"button";return r.jsx(o,{className:I(wu({variant:e,size:n,className:t})),ref:i,...a})});T.displayName="Button";const ls=ne();function ju(){const[t,e]=v.useState(null),n=me();v.useEffect(()=>{s()},[]);const s=async()=>{try{const i=await ls.auth.me();e(i.data)}catch{e(null)}},a=()=>{ls.auth.toLogin()};return r.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:r.jsx("div",{className:"container mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Qe,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"P"})}),r.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:""})]}),r.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[r.jsx(Qe,{to:"/",className:"text-gray-700 hover:text-pink-500 font-medium transition-colors",children:""}),r.jsx(Qe,{to:"/social",className:"text-gray-700 hover:text-pink-500 font-medium transition-colors",children:""}),r.jsx(Qe,{to:"/shop",className:"text-gray-700 hover:text-pink-500 font-medium transition-colors",children:""}),t&&r.jsx(Qe,{to:"/seller",className:"text-gray-700 hover:text-pink-500 font-medium transition-colors",children:""})]}),r.jsx("div",{className:"flex items-center space-x-4",children:t?r.jsxs(r.Fragment,{children:[r.jsx(T,{variant:"ghost",size:"icon",onClick:()=>n("/cart"),className:"relative",children:r.jsx(Ps,{className:"h-5 w-5"})}),r.jsx(T,{variant:"ghost",size:"icon",onClick:()=>n("/profile"),children:r.jsx(Mr,{className:"h-5 w-5"})})]}):r.jsx(T,{onClick:a,className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full",children:""})})]})})})}function Nu(){const t=me();return r.jsxs("div",{className:"min-h-screen",children:[r.jsxs("section",{className:"relative h-[500px] flex items-center justify-center bg-cover bg-center",style:{backgroundImage:"url(https://mgx-backend-cdn.metadl.com/generate/images/940135/2026-01-30/e9cb48e2-fc0d-4bfc-8603-571a0480a0b7.png)"},children:[r.jsx("div",{className:"absolute inset-0 bg-black/30"}),r.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:""}),r.jsx("p",{className:"text-xl md:text-2xl mb-8",children:""}),r.jsx(T,{size:"lg",className:"bg-pink-500 hover:bg-pink-600 text-white rounded-full px-8 py-6 text-lg",onClick:()=>t("/social"),children:""})]})]}),r.jsx("section",{className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:""}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t("/social"),children:[r.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ar,{className:"h-8 w-8 text-pink-500"})}),r.jsx("h3",{className:"text-2xl font-semibold mb-3",children:""}),r.jsx("p",{className:"text-gray-600",children:""})]}),r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t("/shop"),children:[r.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(ze,{className:"h-8 w-8 text-cyan-500"})}),r.jsx("h3",{className:"text-2xl font-semibold mb-3",children:""}),r.jsx("p",{className:"text-gray-600",children:""})]}),r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t("/seller"),children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Br,{className:"h-8 w-8 text-yellow-500"})}),r.jsx("h3",{className:"text-2xl font-semibold mb-3",children:""}),r.jsx("p",{className:"text-gray-600",children:""})]})]})]})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-pink-500 to-cyan-500",children:r.jsxs("div",{className:"container mx-auto px-4 text-center text-white",children:[r.jsx("h2",{className:"text-4xl font-bold mb-4",children:""}),r.jsx("p",{className:"text-xl mb-8",children:""}),r.jsx(T,{size:"lg",className:"bg-white text-pink-500 hover:bg-gray-100 rounded-full px-8 py-6 text-lg",onClick:()=>t("/social"),children:""})]})})]})}const F=v.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:I("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));F.displayName="Card";const V=v.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:I("flex flex-col space-y-1.5 p-6",t),...e}));V.displayName="CardHeader";const oe=v.forwardRef(({className:t,...e},n)=>r.jsx("h3",{ref:n,className:I("text-2xl font-semibold leading-none tracking-tight",t),...e}));oe.displayName="CardTitle";const Su=v.forwardRef(({className:t,...e},n)=>r.jsx("p",{ref:n,className:I("text-sm text-muted-foreground",t),...e}));Su.displayName="CardDescription";const D=v.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:I("p-6 pt-0",t),...e}));D.displayName="CardContent";const Xt=v.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:I("flex items-center p-6 pt-0",t),...e}));Xt.displayName="CardFooter";const ve=v.forwardRef(({className:t,...e},n)=>r.jsx("textarea",{className:I("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ve.displayName="Textarea";const it=v.forwardRef(({className:t,...e},n)=>r.jsx(hs,{ref:n,className:I("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));it.displayName=hs.displayName;const Eu=v.forwardRef(({className:t,...e},n)=>r.jsx(ys,{ref:n,className:I("aspect-square h-full w-full",t),...e}));Eu.displayName=ys.displayName;const ot=v.forwardRef(({className:t,...e},n)=>r.jsx(xs,{ref:n,className:I("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ot.displayName=xs.displayName;const Ou=qr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function U({className:t,variant:e,...n}){return r.jsx("div",{className:I(Ou({variant:e}),t),...n})}function Oe(t){try{return new Date(t).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{return t}}function be(){const t=new Date;return new Date(t.toLocaleString("en-US",{timeZone:"Asia/Shanghai"})).toISOString().slice(0,19).replace("T"," ")}const he=ne();function Au(){const[t,e]=v.useState(null),[n,s]=v.useState([]),[a,i]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,p]=v.useState([]),[m,w]=v.useState(""),{toast:f}=le();v.useEffect(()=>{g(),h()},[]);const g=async()=>{try{const x=await he.auth.me();e(x.data)}catch{e(null)}},h=async()=>{try{const x=await he.entities.posts.queryAll({sort:"-created_at"});s(x.data.items||[])}catch(x){console.error("Failed to load posts:",x)}},S=x=>{f({title:"",description:`${x}`,variant:"destructive"})},A=async()=>{if(!t){S("");return}if(!a.trim()){f({title:"",variant:"destructive"});return}try{await he.entities.posts.create({data:{content:a,is_anonymous:o,likes_count:0,comments_count:0,created_at:be()}}),i(""),l(!1),f({title:""}),h()}catch(x){f({title:"",description:(x==null?void 0:x.message)||"",variant:"destructive"})}},b=async(x,E)=>{if(!t){S("");return}try{await he.entities.posts.update({id:x.toString(),data:{likes_count:E+1}}),h()}catch(_){f({title:"",description:(_==null?void 0:_.message)||"",variant:"destructive"})}},j=async x=>{try{const E=await he.entities.comments.queryAll({query:{post_id:x},sort:"-created_at"});p(E.data.items||[]),u(x)}catch(E){console.error("Failed to load comments:",E)}},k=async x=>{if(!t){S("");return}if(!m.trim()){f({title:"",variant:"destructive"});return}try{await he.entities.comments.create({data:{post_id:x,content:m,created_at:be()}});const E=n.find(_=>_.id===x);E&&await he.entities.posts.update({id:x.toString(),data:{comments_count:E.comments_count+1}}),w(""),j(x),h(),f({title:""})}catch(E){f({title:"",description:(E==null?void 0:E.message)||"",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:""}),!t&&r.jsx(F,{className:"mb-6 bg-gradient-to-r from-pink-50 to-purple-50 border-pink-200",children:r.jsx(D,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(zr,{className:"h-5 w-5 text-pink-500"}),r.jsx("p",{className:"text-sm text-gray-700",children:""})]}),r.jsx(T,{onClick:()=>he.auth.toLogin(),size:"sm",className:"bg-pink-500 hover:bg-pink-600 text-white rounded-full",children:""})]})})}),t&&r.jsxs(F,{className:"mb-8",children:[r.jsx(V,{children:r.jsx("h3",{className:"text-lg font-semibold",children:""})}),r.jsxs(D,{children:[r.jsx(ve,{placeholder:"...",value:a,onChange:x=>i(x.target.value),className:"min-h-[120px] mb-4"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o,onChange:x=>l(x.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:""})]}),r.jsxs(T,{onClick:A,className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full",children:[r.jsx(Ct,{className:"mr-2 h-4 w-4"}),""]})]})]})]}),r.jsx("div",{className:"space-y-6",children:n.map(x=>r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(V,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(it,{children:r.jsx(ot,{children:r.jsx(_t,{className:"h-6 w-6"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:x.is_anonymous?"":""}),r.jsx("p",{className:"text-sm text-gray-500",children:Oe(x.created_at)})]}),x.is_anonymous&&r.jsx(U,{variant:"secondary",className:"ml-auto",children:""})]})}),r.jsx(D,{children:r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:x.content})}),r.jsxs(Xt,{className:"flex justify-between border-t pt-4",children:[r.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>b(x.id,x.likes_count),className:"text-pink-500 hover:text-pink-600",disabled:!t,children:[r.jsx(Br,{className:"mr-2 h-4 w-4"}),x.likes_count]}),r.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>j(x.id),className:"text-purple-500 hover:text-purple-600",children:[r.jsx($s,{className:"mr-2 h-4 w-4"}),x.comments_count]})]}),c===x.id&&r.jsxs("div",{className:"border-t p-4 bg-gray-50",children:[r.jsx("div",{className:"space-y-3 mb-4",children:d.map(E=>r.jsx("div",{className:"bg-white p-3 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(it,{className:"h-8 w-8",children:r.jsx(ot,{children:r.jsx(_t,{className:"h-4 w-4"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold",children:""}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:E.content}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Oe(E.created_at)})]})]})},E.id))}),t?r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ve,{placeholder:"...",value:m,onChange:E=>w(E.target.value),className:"min-h-[80px]"}),r.jsx(T,{onClick:()=>k(x.id),className:"bg-purple-500 hover:bg-purple-600 text-white",children:r.jsx(Ct,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx("p",{className:"text-sm",children:""}),r.jsx(T,{onClick:()=>he.auth.toLogin(),size:"sm",className:"mt-2 bg-purple-500 hover:bg-purple-600 text-white rounded-full",children:""})]})]})]},x.id))}),n.length===0&&r.jsx(F,{children:r.jsx(D,{className:"py-16 text-center",children:r.jsx("p",{className:"text-gray-600 text-lg",children:""})})})]})})}const ge=v.forwardRef(({className:t,type:e,...n},s)=>r.jsx("input",{type:e,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));ge.displayName="Input";const qt=Za,lt=v.forwardRef(({className:t,...e},n)=>r.jsx(gs,{ref:n,className:I("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));lt.displayName=gs.displayName;const xe=v.forwardRef(({className:t,...e},n)=>r.jsx(vs,{ref:n,className:I("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));xe.displayName=vs.displayName;const ct=v.forwardRef(({className:t,...e},n)=>r.jsx(bs,{ref:n,className:I("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ct.displayName=bs.displayName;const re=ne();function Tu(){const[t,e]=v.useState(null),[n,s]=v.useState(null),[a,i]=v.useState([]),[o,l]=v.useState(""),[c,u]=v.useState("daily"),[d,p]=v.useState(10),[m,w]=v.useState(!1),[f,g]=v.useState(null),[h,S]=v.useState([]),[A,b]=v.useState(""),[j,k]=v.useState("daily"),{toast:x}=le();v.useEffect(()=>{E(),N()},[]),v.useEffect(()=>{N()},[j]);const E=async()=>{try{const O=await re.auth.me();e(O.data),await _()}catch{e(null)}},_=async()=>{try{const O=await re.apiCall.invoke({url:"/api/v1/user_system/profile",method:"GET"});s(O.data)}catch(O){console.error("Failed to load user profile:",O)}},N=async()=>{try{const O=await re.entities.posts_v2.queryAll({query:{post_type:j,review_status:"approved"},sort:"-created_at",limit:t?100:10});i(O.data.items||[])}catch(O){console.error("Failed to load posts:",O)}},L=O=>{x({title:"",description:`${O}`,variant:"destructive"})},ee=async()=>{if(!t){L("");return}if(!o.trim()){x({title:"",variant:"destructive"});return}if(c==="help"&&d<5){x({title:"5",variant:"destructive"});return}try{const O={content:o,post_type:c,is_anonymous:m,review_status:c==="daily"?"approved":"pending",reward_points:c==="help"?d:0,is_solved:!1,likes_count:0,comments_count:0,created_at:be()};await re.entities.posts_v2.create({data:O}),await re.apiCall.invoke({url:"/api/v1/user_system/experience",method:"POST",data:{action_type:c==="daily"?"post_daily":"post_help"}}),l(""),w(!1),p(10),c==="daily"?(x({title:"",description:" 5 "}),N()):x({title:"",description:" 5 "})}catch(O){x({title:"",description:(O==null?void 0:O.message)||"",variant:"destructive"})}},G=async(O,P)=>{if(!t){L("");return}try{await re.entities.posts_v2.update({id:O.toString(),data:{likes_count:P+1}}),await re.apiCall.invoke({url:"/api/v1/user_system/experience",method:"POST",data:{action_type:"like"}}),N()}catch(K){x({title:"",description:(K==null?void 0:K.message)||"",variant:"destructive"})}},q=async O=>{try{const P=await re.entities.comments.queryAll({query:{post_id:O},sort:"-created_at"});S(P.data.items||[]),g(O)}catch(P){console.error("Failed to load comments:",P)}},z=async O=>{if(!t){L("");return}if(!A.trim()){x({title:"",variant:"destructive"});return}try{await re.entities.comments.create({data:{post_id:O,content:A,created_at:be()}});const P=a.find(K=>K.id===O);P&&await re.entities.posts_v2.update({id:O.toString(),data:{comments_count:P.comments_count+1}}),await re.apiCall.invoke({url:"/api/v1/user_system/experience",method:"POST",data:{action_type:"comment"}}),b(""),q(O),N(),x({title:"",description:" 2 "})}catch(P){x({title:"",description:(P==null?void 0:P.message)||"",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:""}),!t&&r.jsx(F,{className:"mb-6 bg-gradient-to-r from-pink-50 to-purple-50 border-pink-200",children:r.jsx(D,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(zr,{className:"h-5 w-5 text-pink-500"}),r.jsx("p",{className:"text-sm text-gray-700",children:"10"})]}),r.jsx(T,{onClick:()=>re.auth.toLogin(),size:"sm",className:"bg-pink-500 hover:bg-pink-600 text-white rounded-full",children:""})]})})}),t&&n&&r.jsx(F,{className:"mb-6 bg-gradient-to-r from-purple-50 to-pink-50",children:r.jsx(D,{className:"p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:n.avatar_url,alt:"Avatar",className:"w-12 h-12 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:n.username}),r.jsxs(U,{className:"bg-gradient-to-r from-pink-500 to-purple-600",children:[" ",n.level]})]})]})})})}),t&&r.jsxs(F,{className:"mb-8",children:[r.jsx(V,{children:r.jsx(qt,{value:c,onValueChange:O=>u(O),children:r.jsxs(lt,{className:"grid w-full grid-cols-2",children:[r.jsxs(xe,{value:"daily",children:[r.jsx(Ar,{className:"mr-2 h-4 w-4"}),""]}),r.jsxs(xe,{value:"help",children:[r.jsx(Zt,{className:"mr-2 h-4 w-4"}),""]})]})})}),r.jsxs(D,{children:[r.jsx(ve,{placeholder:c==="daily"?"...":"...",value:o,onChange:O=>l(O.target.value),className:"min-h-[120px] mb-4"}),c==="help"&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"5"}),r.jsx(ge,{type:"number",min:5,value:d,onChange:O=>p(parseInt(O.target.value)||5),className:"w-32"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m,onChange:O=>w(O.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:""})]}),r.jsxs(T,{onClick:ee,className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full",children:[r.jsx(Ct,{className:"mr-2 h-4 w-4"}),c==="daily"?"":""]})]}),c==="help"&&r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:""})]})]}),r.jsx(qt,{value:j,onValueChange:O=>k(O),className:"mb-6",children:r.jsxs(lt,{className:"grid w-full grid-cols-2",children:[r.jsxs(xe,{value:"daily",children:[r.jsx(Ar,{className:"mr-2 h-4 w-4"}),""]}),r.jsxs(xe,{value:"help",children:[r.jsx(Zt,{className:"mr-2 h-4 w-4"}),""]})]})}),r.jsx("div",{className:"space-y-6",children:a.map(O=>r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(V,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(it,{children:r.jsx(ot,{children:r.jsx(_t,{className:"h-6 w-6"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:O.is_anonymous?"":""}),r.jsx("p",{className:"text-sm text-gray-500",children:Oe(O.created_at)})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[O.post_type==="help"&&r.jsx(r.Fragment,{children:O.is_solved?r.jsxs(U,{className:"bg-green-500",children:[r.jsx(Pt,{className:"mr-1 h-3 w-3"}),""]}):r.jsxs(U,{className:"bg-orange-500",children:[r.jsx(Zt,{className:"mr-1 h-3 w-3"})," ",O.reward_points]})}),O.is_anonymous&&r.jsx(U,{variant:"secondary",children:""})]})]})}),r.jsx(D,{children:r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:O.content})}),r.jsxs(Xt,{className:"flex justify-between border-t pt-4",children:[r.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>G(O.id,O.likes_count),className:"text-pink-500 hover:text-pink-600",disabled:!t,children:[r.jsx(Br,{className:"mr-2 h-4 w-4"}),O.likes_count]}),r.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>q(O.id),className:"text-purple-500 hover:text-purple-600",children:[r.jsx($s,{className:"mr-2 h-4 w-4"}),O.comments_count]})]}),f===O.id&&r.jsxs("div",{className:"border-t p-4 bg-gray-50",children:[r.jsx("div",{className:"space-y-3 mb-4",children:h.map(P=>r.jsx("div",{className:"bg-white p-3 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(it,{className:"h-8 w-8",children:r.jsx(ot,{children:r.jsx(_t,{className:"h-4 w-4"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold",children:""}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:P.content}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Oe(P.created_at)})]})]})},P.id))}),t?r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ve,{placeholder:"...",value:A,onChange:P=>b(P.target.value),className:"min-h-[80px]"}),r.jsx(T,{onClick:()=>z(O.id),className:"bg-purple-500 hover:bg-purple-600 text-white",children:r.jsx(Ct,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx("p",{className:"text-sm",children:""}),r.jsx(T,{onClick:()=>re.auth.toLogin(),size:"sm",className:"mt-2 bg-purple-500 hover:bg-purple-600 text-white rounded-full",children:""})]})]})]},O.id))}),a.length===0&&r.jsx(F,{children:r.jsx(D,{className:"py-16 text-center",children:r.jsx("p",{className:"text-gray-600 text-lg",children:j==="daily"?"":""})})})]})})}const Ha=si,Wa=ai,tn=v.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(ws,{ref:s,className:I("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,r.jsx(Ya,{asChild:!0,children:r.jsx(Is,{className:"h-4 w-4 opacity-50"})})]}));tn.displayName=ws.displayName;const Va=v.forwardRef(({className:t,...e},n)=>r.jsx(js,{ref:n,className:I("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(yi,{className:"h-4 w-4"})}));Va.displayName=js.displayName;const Ga=v.forwardRef(({className:t,...e},n)=>r.jsx(Ns,{ref:n,className:I("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(Is,{className:"h-4 w-4"})}));Ga.displayName=Ns.displayName;const rn=v.forwardRef(({className:t,children:e,position:n="popper",...s},a)=>r.jsx(ei,{children:r.jsxs(Ss,{ref:a,className:I("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[r.jsx(Va,{}),r.jsx(ti,{className:I("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(Ga,{})]})}));rn.displayName=Ss.displayName;const Ru=v.forwardRef(({className:t,...e},n)=>r.jsx(Es,{ref:n,className:I("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ru.displayName=Es.displayName;const nn=v.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(Os,{ref:s,className:I("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(ri,{children:r.jsx(xi,{className:"h-4 w-4"})})}),r.jsx(ni,{children:e})]}));nn.displayName=Os.displayName;const ku=v.forwardRef(({className:t,...e},n)=>r.jsx(As,{ref:n,className:I("-mx-1 my-1 h-px bg-muted",t),...e}));ku.displayName=As.displayName;const Cu=ne();async function _u(){try{const t=await Cu.apiCall.invoke({url:"/api/v1/migration/add_shop_id_column",method:"POST",data:{}});return console.log("Migration result:",t.data),t.data}catch(t){throw console.error("Migration failed:",t),t}}const qe=ne();function Pu(){const[t,e]=v.useState([]),[n,s]=v.useState([]),[a,i]=v.useState("all"),[o,l]=v.useState(""),[c,u]=v.useState(null),[d,p]=v.useState(!1),{toast:m}=le(),w=["all","","","",""];v.useEffect(()=>{g(),f()},[]);const f=async()=>{try{await _u(),p(!0),h()}catch(b){console.error("Migration failed, trying to load products anyway:",b),h()}},g=async()=>{try{const b=await qe.auth.me();u(b.data)}catch{u(null)}},h=async()=>{var b;try{const j=await qe.entities.products.query({query:{status:"active"},sort:"-created_at"});e(j.data.items||[]),s(j.data.items||[])}catch(j){console.error("Failed to load products:",j),m({title:"",description:((b=j==null?void 0:j.data)==null?void 0:b.detail)||"",variant:"destructive"})}};v.useEffect(()=>{S()},[a,o,t]);const S=()=>{let b=t;a!=="all"&&(b=b.filter(j=>j.category===a)),o&&(b=b.filter(j=>j.name.toLowerCase().includes(o.toLowerCase())||j.description.toLowerCase().includes(o.toLowerCase()))),s(b)},A=async b=>{if(!c){m({title:"",description:"",variant:"destructive"});return}try{const j=await qe.entities.cart_items.query({query:{product_id:b}});if(j.data.items&&j.data.items.length>0){const k=j.data.items[0];await qe.entities.cart_items.update({id:k.id.toString(),data:{quantity:k.quantity+1}})}else await qe.entities.cart_items.create({data:{product_id:b,quantity:1,created_at:new Date().toISOString().slice(0,19).replace("T"," ")}});m({title:""})}catch(j){m({title:"",description:(j==null?void 0:j.message)||"",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:""}),!c&&r.jsx(F,{className:"mb-6 bg-gradient-to-r from-pink-50 to-purple-50 border-pink-200",children:r.jsx(D,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(zr,{className:"h-5 w-5 text-pink-500"}),r.jsx("p",{className:"text-sm text-gray-700",children:""})]}),r.jsx(T,{onClick:()=>qe.auth.toLogin(),size:"sm",className:"bg-pink-500 hover:bg-pink-600 text-white rounded-full",children:""})]})})}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx(ge,{placeholder:"...",value:o,onChange:b=>l(b.target.value),className:"pl-10 rounded-full"})]}),r.jsxs(Ha,{value:a,onValueChange:i,children:[r.jsx(tn,{className:"w-full md:w-48 rounded-full",children:r.jsx(Wa,{placeholder:""})}),r.jsx(rn,{children:w.map(b=>r.jsx(nn,{value:b,children:b==="all"?"":b},b))})]})]})]}),n.length===0?r.jsx(F,{children:r.jsx(D,{className:"py-16 text-center",children:r.jsx("p",{className:"text-gray-600 text-lg",children:""})})}):r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(b=>r.jsxs(F,{className:"hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r.jsx(V,{className:"p-0",children:r.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-48 object-cover rounded-t-lg"})}),r.jsxs(D,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:b.name}),r.jsx(U,{className:"bg-cyan-500",children:b.category})]}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:b.description}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs("span",{className:"text-2xl font-bold text-pink-500",children:["",b.price]}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[": ",b.stock]})]})})]}),r.jsx(Xt,{className:"p-4 pt-0",children:r.jsxs(T,{onClick:()=>A(b.id),disabled:b.stock===0||!c,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full",children:[r.jsx(Ps,{className:"mr-2 h-4 w-4"}),b.stock===0?"":c?"":""]})})]},b.id))})]})})}const Ne=ne();function $u(){const[t,e]=v.useState(null),[n,s]=v.useState(!0),[a,i]=v.useState([]),{toast:o}=le(),l=me();v.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await Ne.auth.me();e(f.data),await u(),s(!1)}catch{o({title:"",description:"",variant:"destructive"}),l("/")}},u=async()=>{try{const g=(await Ne.entities.cart_items.query({})).data.items||[],h=await Promise.all(g.map(async S=>{try{const A=await Ne.entities.products.get({id:S.product_id.toString()});return{...S,product:A.data}}catch{return null}}));i(h.filter(S=>S!==null))}catch(f){console.error("Failed to load cart:",f)}},d=async(f,g)=>{if(!(g<1))try{await Ne.entities.cart_items.update({id:f.toString(),data:{quantity:g}}),u()}catch(h){o({title:"",description:(h==null?void 0:h.message)||"",variant:"destructive"})}},p=async f=>{try{await Ne.entities.cart_items.delete({id:f.toString()}),o({title:""}),u()}catch(g){o({title:"",description:(g==null?void 0:g.message)||"",variant:"destructive"})}},m=async()=>{if(a.length===0){o({title:"",variant:"destructive"});return}try{const f=a.reduce((S,A)=>S+A.product.price*A.quantity,0),h=(await Ne.entities.orders.create({data:{shop_id:a[0].product.shop_id,total_amount:f,status:"completed",created_at:be()}})).data.id;await Promise.all(a.map(S=>Ne.entities.order_items.create({data:{order_id:h,product_id:S.product_id,quantity:S.quantity,price:S.product.price,created_at:be()}}))),await Promise.all(a.map(S=>Ne.entities.cart_items.delete({id:S.id.toString()}))),o({title:"",description:""}),l("/profile")}catch(f){o({title:"",description:(f==null?void 0:f.message)||"",variant:"destructive"})}},w=a.reduce((f,g)=>f+g.product.price*g.quantity,0);return n?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):t?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:""}),a.length===0?r.jsx(F,{children:r.jsxs(D,{className:"py-16 text-center",children:[r.jsx(ze,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-600 text-lg mb-6",children:""}),r.jsx(T,{onClick:()=>l("/shop"),className:"bg-pink-500 hover:bg-pink-600 text-white rounded-full",children:""})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4 mb-6",children:a.map(f=>r.jsx(F,{children:r.jsx(D,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:f.product.image_url,alt:f.product.name,className:"w-24 h-24 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:f.product.name}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:f.product.description}),r.jsxs("p",{className:"text-pink-500 font-bold mt-2",children:["",f.product.price,"  ",f.quantity]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(T,{variant:"outline",size:"icon",onClick:()=>d(f.id,f.quantity-1),disabled:f.quantity<=1,children:r.jsx(vi,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-12 text-center font-semibold",children:f.quantity}),r.jsx(T,{variant:"outline",size:"icon",onClick:()=>d(f.id,f.quantity+1),disabled:f.quantity>=f.product.stock,children:r.jsx(Fs,{className:"h-4 w-4"})}),r.jsx(T,{variant:"ghost",size:"icon",onClick:()=>p(f.id),className:"text-red-500 hover:text-red-600",children:r.jsx(Ds,{className:"h-4 w-4"})})]})]})})},f.id))}),r.jsxs(F,{children:[r.jsx(V,{children:r.jsx(oe,{children:""})}),r.jsxs(D,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("span",{className:"text-3xl font-bold text-pink-500",children:["",w.toFixed(2)]})]}),r.jsx(T,{onClick:m,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full py-6 text-lg",children:""}),r.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"0"})]})]})]})]})}):null}const Ja=li,Iu=ci,Fu=ii,Ka=v.forwardRef(({className:t,...e},n)=>r.jsx(Ts,{ref:n,className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Ka.displayName=Ts.displayName;const sn=v.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(Fu,{children:[r.jsx(Ka,{}),r.jsxs(Rs,{ref:s,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,r.jsxs(oi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(_s,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sn.displayName=Rs.displayName;const an=({className:t,...e})=>r.jsx("div",{className:I("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});an.displayName="DialogHeader";const on=v.forwardRef(({className:t,...e},n)=>r.jsx(ks,{ref:n,className:I("text-lg font-semibold leading-none tracking-tight",t),...e}));on.displayName=ks.displayName;const Du=v.forwardRef(({className:t,...e},n)=>r.jsx(Cs,{ref:n,className:I("text-sm text-muted-foreground",t),...e}));Du.displayName=Cs.displayName;const Ce=ne();function Uu(){const[t,e]=v.useState(null),[n,s]=v.useState(!0),[a,i]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,p]=v.useState({name:"",description:"",category:"",stock:100,image_url:""}),{toast:m}=le(),w=me(),f=["","","",""];v.useEffect(()=>{g()},[]);const g=async()=>{try{const x=await Ce.auth.me();e(x.data);const E=await Ce.entities.shops.query({});if(!E.data.items||E.data.items.length===0){m({title:"",description:"",variant:"destructive"}),w("/seller/register");return}await h(),s(!1)}catch{m({title:"",description:"",variant:"destructive"}),w("/")}},h=async()=>{try{const x=await Ce.entities.products.query({sort:"-created_at"});i(x.data.items||[])}catch(x){console.error("Failed to load products:",x)}},S=async()=>{if(!d.name||!d.description){m({title:"",variant:"destructive"});return}try{const x={...d,price:0,status:"active",shop_id:1,created_at:be()};c?(await Ce.entities.products.update({id:c.id.toString(),data:x}),m({title:""})):(await Ce.entities.products.create({data:x}),m({title:""})),l(!1),k(),h()}catch(x){m({title:c?"":"",description:(x==null?void 0:x.message)||"",variant:"destructive"})}},A=x=>{u(x),p({name:x.name,description:x.description,category:x.category,stock:x.stock,image_url:x.image_url}),l(!0)},b=async x=>{if(confirm(""))try{await Ce.entities.products.delete({id:x.toString()}),m({title:""}),h()}catch(E){m({title:"",description:(E==null?void 0:E.message)||"",variant:"destructive"})}},j=async x=>{try{const E=x.status==="active"?"inactive":"active";await Ce.entities.products.update({id:x.id.toString(),data:{status:E}}),m({title:E==="active"?"":""}),h()}catch(E){m({title:"",description:(E==null?void 0:E.message)||"",variant:"destructive"})}},k=()=>{p({name:"",description:"",category:"",stock:100,image_url:""}),u(null)};return n?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):t?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:""}),r.jsxs(Ja,{open:o,onOpenChange:l,children:[r.jsx(Iu,{asChild:!0,children:r.jsxs(T,{onClick:()=>{k(),l(!0)},className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full",children:[r.jsx(Fs,{className:"mr-2 h-4 w-4"}),""]})}),r.jsxs(sn,{className:"max-w-2xl",children:[r.jsx(an,{children:r.jsx(on,{children:c?"":""})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(ge,{value:d.name,onChange:x=>p({...d,name:x.target.value}),placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(ve,{value:d.description,onChange:x=>p({...d,description:x.target.value}),placeholder:"",className:"min-h-[100px]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsxs(Ha,{value:d.category,onValueChange:x=>p({...d,category:x}),children:[r.jsx(tn,{children:r.jsx(Wa,{})}),r.jsx(rn,{children:f.map(x=>r.jsx(nn,{value:x,children:x},x))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(ge,{type:"number",value:d.stock,onChange:x=>p({...d,stock:parseInt(x.target.value)||0}),placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"URL"}),r.jsx(ge,{value:d.image_url,onChange:x=>p({...d,image_url:x.target.value}),placeholder:"URL"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"0"}),r.jsx(T,{onClick:S,className:"w-full",children:c?"":""})]})]})]})]}),a.length===0?r.jsx(F,{children:r.jsx(D,{className:"py-16 text-center",children:r.jsx("p",{className:"text-gray-600 text-lg",children:""})})}):r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(x=>r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(V,{className:"p-0",children:r.jsx("img",{src:x.image_url,alt:x.name,className:"w-full h-48 object-cover rounded-t-lg"})}),r.jsxs(D,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:x.name}),r.jsx(U,{className:x.status==="active"?"bg-green-500":"bg-gray-500",children:x.status==="active"?"":""})]}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:x.description}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(U,{className:"bg-cyan-500",children:x.category}),r.jsxs("span",{className:"text-sm text-gray-500",children:[": ",x.stock]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(T,{variant:"outline",size:"sm",onClick:()=>A(x),className:"flex-1",children:[r.jsx(Us,{className:"mr-1 h-3 w-3"}),""]}),r.jsx(T,{variant:"outline",size:"sm",onClick:()=>j(x),className:"flex-1",children:x.status==="active"?r.jsxs(r.Fragment,{children:[r.jsx(bi,{className:"mr-1 h-3 w-3"}),""]}):r.jsxs(r.Fragment,{children:[r.jsx(wi,{className:"mr-1 h-3 w-3"}),""]})}),r.jsx(T,{variant:"outline",size:"sm",onClick:()=>b(x.id),className:"text-red-500 hover:text-red-600",children:r.jsx(Ds,{className:"h-3 w-3"})})]})]})]},x.id))})]})}):null}const bt=ne();function Lu(){const[t,e]=v.useState(null),[n,s]=v.useState("customer"),[a,i]=v.useState(null),[o,l]=v.useState([]),[c,u]=v.useState(!0),d=me(),{toast:p}=le();v.useEffect(()=>{m()},[]);const m=async()=>{try{const h=await bt.auth.me();e(h.data),await w(),u(!1)}catch{p({title:"",description:"",variant:"destructive"}),d("/")}},w=async()=>{try{const h=await bt.entities.shops.query({});h.data.items&&h.data.items.length>0&&(i(h.data.items[0]),s("seller"));const S=await bt.entities.orders.query({sort:"-created_at"});l(S.data.items||[])}catch(h){console.error("Failed to load user data:",h)}},f=async()=>{try{await bt.auth.logout(),e(null),i(null),l([]),p({title:""}),window.location.href="/"}catch(h){p({title:"",description:(h==null?void 0:h.message)||"",variant:"destructive"})}},g=()=>{d("/seller/register")};return c?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):t?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[r.jsx(F,{className:"mb-8",children:r.jsx(D,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:r.jsx(Mr,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:t.email||""}),r.jsx(U,{className:n==="seller"?"bg-purple-500":"bg-cyan-500",children:n==="seller"?"":""})]})]}),r.jsxs(T,{variant:"outline",onClick:f,className:"rounded-full",children:[r.jsx(Ls,{className:"mr-2 h-4 w-4"}),""]})]})})}),r.jsxs(qt,{defaultValue:n==="seller"?"shop":"orders",className:"w-full",children:[r.jsxs(lt,{className:"grid w-full grid-cols-2",children:[r.jsxs(xe,{value:"orders",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),""]}),r.jsxs(xe,{value:"shop",children:[r.jsx(X,{className:"mr-2 h-4 w-4"}),a?"":""]})]}),r.jsx(ct,{value:"orders",className:"mt-6",children:r.jsxs(F,{children:[r.jsx(V,{children:r.jsx(oe,{children:""})}),r.jsx(D,{children:o.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(ze,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:""}),r.jsx(T,{onClick:()=>d("/shop"),className:"mt-4 bg-pink-500 hover:bg-pink-600 text-white rounded-full",children:""})]}):r.jsx("div",{className:"space-y-4",children:o.map(h=>r.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold",children:[": ",h.id]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[": ",Oe(h.created_at)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-2xl font-bold text-pink-500",children:["",h.total_amount.toFixed(2)]}),r.jsx(U,{className:h.status==="completed"?"bg-green-500":h.status==="paid"?"bg-blue-500":"bg-gray-500",children:h.status==="completed"?"":h.status==="paid"?"":h.status==="pending"?"":""})]})]})},h.id))})})]})}),r.jsx(ct,{value:"shop",className:"mt-6",children:a?r.jsxs(F,{children:[r.jsx(V,{children:r.jsx(oe,{children:""})}),r.jsx(D,{children:r.jsxs("div",{className:"flex items-start space-x-6",children:[r.jsx("img",{src:a.logo_url,alt:a.shop_name,className:"w-32 h-32 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:a.shop_name}),r.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(T,{onClick:()=>d("/seller"),className:"bg-purple-500 hover:bg-purple-600 text-white rounded-full",children:""}),r.jsx(U,{className:a.status==="active"?"bg-green-500":"bg-gray-500",children:a.status==="active"?"":""})]})]})]})})]}):r.jsx(F,{children:r.jsxs(D,{className:"py-16 text-center",children:[r.jsx(X,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:""}),r.jsx("p",{className:"text-gray-600 mb-6",children:","}),r.jsxs(T,{onClick:g,className:"bg-purple-500 hover:bg-purple-600 text-white rounded-full px-8",children:[r.jsx(X,{className:"mr-2 h-4 w-4"}),""]})]})})})]})]})}):null}const ie=ne();function qu(){const[t,e]=v.useState(null),[n,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState("customer"),[c,u]=v.useState(null),[d,p]=v.useState([]),[m,w]=v.useState(!1),[f,g]=v.useState(""),[h,S]=v.useState(null),[A,b]=v.useState(!1),[j,k]=v.useState(""),[x,E]=v.useState(!1),_=v.useRef(null),{toast:N}=le(),L=me();v.useEffect(()=>{ee()},[]);const ee=async()=>{try{const R=await ie.auth.me();e(R.data),await G(),await q(),i(!1)}catch{N({title:"",variant:"destructive"}),L("/")}},G=async()=>{try{const R=await ie.apiCall.invoke({url:"/api/v1/user_system/profile",method:"GET"});s(R.data),g(R.data.username),k(R.data.avatar_url);const Q=await ie.apiCall.invoke({url:"/api/v1/user_system/experience",method:"POST",data:{action_type:"check_inspector"}});S(Q.data);const Re=await ie.apiCall.invoke({url:"/api/v1/inspectors/me",method:"GET"});b(Re.data.is_inspector)}catch(R){console.error("Failed to load user profile:",R)}},q=async()=>{try{const R=await ie.entities.shops_v2.query({});R.data.items&&R.data.items.length>0&&(u(R.data.items[0]),l("seller"));const Q=await ie.entities.orders.query({sort:"-created_at",limit:10});p(Q.data.items||[])}catch(R){console.error("Failed to load user data:",R)}},z=async()=>{await ie.auth.logout(),e(null),s(null),u(null),p([]),window.location.href="/"},O=()=>{L("/seller/register")},P=async()=>{if(!f.trim()){N({title:"",variant:"destructive"});return}try{await ie.apiCall.invoke({url:"/api/v1/user_system/username",method:"PUT",data:{username:f}}),N({title:""}),w(!1),G()}catch(R){N({title:"",description:(R==null?void 0:R.message)||"",variant:"destructive"})}},K=()=>{var R;(R=_.current)==null||R.click()},se=async R=>{var ln;const Q=(ln=R.target.files)==null?void 0:ln[0];if(!Q)return;if(!Q.type.startsWith("image/")){N({title:"",variant:"destructive"});return}if(Q.size>5*1024*1024){N({title:"5MB",variant:"destructive"});return}const Re=new FileReader;Re.onload=ke=>{var cn;k((cn=ke.target)==null?void 0:cn.result)},Re.readAsDataURL(Q),E(!0);try{const ke=await ie.storage.upload({bucket_name:"avatars",file:Q});await ie.apiCall.invoke({url:"/api/v1/user_system/avatar",method:"PUT",data:{avatar_url:ke}}),N({title:""}),G()}catch(ke){N({title:"",description:(ke==null?void 0:ke.message)||"",variant:"destructive"}),k((n==null?void 0:n.avatar_url)||"")}finally{E(!1)}},Te=async()=>{try{await ie.apiCall.invoke({url:"/api/v1/inspectors/apply",method:"POST"}),N({title:""}),b(!0)}catch(R){N({title:"",description:(R==null?void 0:R.message)||"",variant:"destructive"})}};if(a)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})});if(!t||!n)return null;const we=(n.level+1)*100,ae=n.level*100,je=(n.experience-ae)/(we-ae)*100;return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[r.jsxs(F,{className:"mb-8 overflow-hidden",children:[r.jsx("div",{className:"h-32 bg-gradient-to-r from-purple-400 via-pink-500 to-red-500"}),r.jsx(D,{className:"relative pt-0 pb-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end space-y-4 md:space-y-0 md:space-x-6 -mt-16",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-white overflow-hidden bg-white shadow-lg",children:j?r.jsx("img",{src:j,alt:"Avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-400 to-pink-500",children:r.jsx(Mr,{className:"h-16 w-16 text-white"})})}),r.jsx("button",{onClick:K,disabled:x,className:"absolute bottom-0 right-0 w-10 h-10 bg-pink-500 hover:bg-pink-600 rounded-full flex items-center justify-center shadow-lg transition-colors disabled:opacity-50",children:x?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):r.jsx(ji,{className:"h-5 w-5 text-white"})}),r.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:se,className:"hidden"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center space-x-3 mb-2",children:m?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ge,{value:f,onChange:R=>g(R.target.value),className:"max-w-xs"}),r.jsx(T,{onClick:P,size:"sm",children:""}),r.jsx(T,{onClick:()=>{w(!1),g(n.username)},variant:"outline",size:"sm",children:""})]}):r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-3xl font-bold",children:n.username}),r.jsx(T,{onClick:()=>w(!0),variant:"ghost",size:"sm",children:r.jsx(Us,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[r.jsxs(U,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[r.jsx(Ni,{className:"mr-1 h-4 w-4"})," ",n.level]}),r.jsxs(U,{className:"bg-gradient-to-r from-blue-400 to-purple-500 text-white",children:[r.jsx(Si,{className:"mr-1 h-4 w-4"}),n.points," "]}),A&&r.jsxs(U,{className:"bg-gradient-to-r from-green-400 to-blue-500 text-white",children:[r.jsx(Ye,{className:"mr-1 h-4 w-4"}),""]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:""}),r.jsxs("span",{className:"font-semibold",children:[n.experience," / ",we]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 transition-all duration-500",style:{width:`${je}%`}})})]})]}),r.jsxs(T,{onClick:z,variant:"outline",className:"text-red-500 hover:text-red-600",children:[r.jsx(Ls,{className:"mr-2 h-4 w-4"}),""]})]})})]}),h&&r.jsxs(F,{className:"mb-8",children:[r.jsx(V,{children:r.jsxs(oe,{className:"flex items-center",children:[r.jsx(Ye,{className:"mr-2 h-6 w-6 text-green-500"}),""]})}),r.jsx(D,{children:A?r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-green-600 font-semibold",children:" "}),r.jsxs(T,{onClick:()=>L("/inspector"),className:"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white",children:[r.jsx(Ye,{className:"mr-2 h-4 w-4"}),""]})]}):h.eligible?r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-green-600 font-semibold",children:" "}),r.jsx("p",{className:"text-sm text-gray-600",children:""}),r.jsxs(T,{onClick:Te,className:"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white",children:[r.jsx(Ye,{className:"mr-2 h-4 w-4"}),""]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-gray-600",children:[" ",h.required_level,"  ",h.required_points,""]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[" ",n.level," ",n.points]})]})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(F,{children:[r.jsx(V,{children:r.jsxs(oe,{className:"flex items-center",children:[r.jsx(X,{className:"mr-2 h-6 w-6"}),""]})}),r.jsx(D,{children:c?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:c.logo_url,alt:c.shop_name,className:"w-16 h-16 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:c.shop_name}),r.jsx("p",{className:"text-sm text-gray-600",children:c.description})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(U,{className:c.status==="approved"?"bg-green-500":c.status==="pending"?"bg-yellow-500":"bg-red-500",children:c.status==="approved"?"":c.status==="pending"?"":""}),c.status==="approved"&&r.jsx(T,{onClick:()=>L("/seller"),children:""})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(X,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-600 mb-4",children:""}),r.jsxs(T,{onClick:O,children:[r.jsx(X,{className:"mr-2 h-4 w-4"}),""]})]})})]}),r.jsxs(F,{children:[r.jsx(V,{children:r.jsxs(oe,{className:"flex items-center",children:[r.jsx(ze,{className:"mr-2 h-6 w-6"}),""]})}),r.jsx(D,{children:d.length>0?r.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:d.map(R=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold",children:[" #",R.id]}),r.jsx("p",{className:"text-sm text-gray-600",children:Oe(R.created_at)})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-pink-600",children:["",R.total_amount]}),r.jsx(U,{className:R.status==="paid"||R.status==="completed"?"bg-green-500":R.status==="pending"?"bg-yellow-500":"bg-gray-500",children:R.status==="paid"?"":R.status==="completed"?"":R.status==="pending"?"":R.status==="shipped"?"":R.status})]})]},R.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ze,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-600",children:""})]})})]})]})]})})}const Er=ne();function Mu(){const[t,e]=v.useState(null),[n,s]=v.useState(!0),[a,i]=v.useState(""),[o,l]=v.useState(""),{toast:c}=le(),u=me();v.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await Er.auth.me();e(m.data);const w=await Er.entities.shops.query({});if(w.data.items&&w.data.items.length>0){c({title:"",description:""}),u("/seller");return}s(!1)}catch{c({title:"",description:"",variant:"destructive"}),u("/")}},p=async()=>{if(!a||!o){c({title:"",variant:"destructive"});return}try{await Er.entities.shops.create({data:{shop_name:a,description:o,logo_url:"/images/Shop.jpg",status:"active",created_at:be()}}),c({title:"",description:""}),u("/seller")}catch(m){c({title:"",description:(m==null?void 0:m.message)||"",variant:"destructive"})}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):t?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"container mx-auto px-4 max-w-2xl",children:r.jsxs(F,{children:[r.jsx(V,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx(X,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx(oe,{className:"text-3xl",children:""}),r.jsx("p",{className:"text-gray-600 mt-1",children:""})]})]})}),r.jsxs(D,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r.jsx(ge,{value:a,onChange:m=>i(m.target.value),placeholder:"",className:"text-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r.jsx(ve,{value:o,onChange:m=>l(m.target.value),placeholder:"...",className:"min-h-[150px]"})]}),r.jsxs(T,{onClick:p,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-full py-6 text-lg",children:[r.jsx(X,{className:"mr-2 h-5 w-5"}),""]})]})]})})}):null}const Or=ne();function Bu(){const[t,e]=v.useState(null),[n,s]=v.useState(!0),[a,i]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(""),{toast:d}=le(),p=me();v.useEffect(()=>{m()},[]);const m=async()=>{try{const f=await Or.auth.me();e(f.data);const g=await Or.entities.shops_v2.query({});g.data.items&&g.data.items.length>0&&i(g.data.items[0]),s(!1)}catch{d({title:"",description:"",variant:"destructive"}),p("/")}},w=async()=>{if(!o||!c){d({title:"",variant:"destructive"});return}try{await Or.entities.shops_v2.create({data:{shop_name:o,description:c,logo_url:"/images/photo1769781679.jpg",status:"pending",average_rating:0,created_at:be()}}),d({title:"",description:""}),window.location.reload()}catch(f){d({title:"",description:(f==null?void 0:f.message)||"",variant:"destructive"})}};if(n)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})});if(!t)return null;if(a){const g=(h=>{switch(h){case"pending":return{icon:r.jsx(Ei,{className:"h-8 w-8 text-yellow-500"}),badge:r.jsx(U,{className:"bg-yellow-500",children:""}),title:"",description:""};case"approved":return{icon:r.jsx(Pt,{className:"h-8 w-8 text-green-500"}),badge:r.jsx(U,{className:"bg-green-500",children:""}),title:"",description:""};case"rejected":return{icon:r.jsx(Tr,{className:"h-8 w-8 text-red-500"}),badge:r.jsx(U,{className:"bg-red-500",children:""}),title:"",description:""};default:return{icon:r.jsx(X,{className:"h-8 w-8 text-gray-500"}),badge:r.jsx(U,{className:"bg-gray-500",children:""}),title:"",description:""}}})(a.status);return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"container mx-auto px-4 max-w-2xl",children:r.jsxs(F,{children:[r.jsx(V,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:g.icon}),r.jsxs("div",{children:[r.jsx(oe,{className:"text-3xl",children:g.title}),r.jsx("p",{className:"text-gray-600 mt-1",children:g.description})]})]}),g.badge]})}),r.jsxs(D,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-2",children:""}),r.jsxs("p",{className:"text-sm text-gray-600",children:["",a.shop_name]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["",a.description]})]}),a.status==="approved"&&r.jsxs(T,{onClick:()=>p("/seller"),className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-full py-6 text-lg",children:[r.jsx(X,{className:"mr-2 h-5 w-5"}),""]}),a.status==="rejected"&&r.jsx("p",{className:"text-sm text-gray-500 text-center",children:""})]})]})})})}return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"container mx-auto px-4 max-w-2xl",children:r.jsxs(F,{children:[r.jsx(V,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx(X,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx(oe,{className:"text-3xl",children:""}),r.jsx("p",{className:"text-gray-600 mt-1",children:""})]})]})}),r.jsxs(D,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r.jsx(ge,{value:o,onChange:f=>l(f.target.value),placeholder:"",className:"text-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r.jsx(ve,{value:c,onChange:f=>u(f.target.value),placeholder:"...",className:"min-h-[150px]"})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:""}),""]})}),r.jsxs(T,{onClick:w,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-full py-6 text-lg",children:[r.jsx(X,{className:"mr-2 h-5 w-5"}),""]})]})]})})})}const wt=ne();function zu(){const[t,e]=v.useState(null),[n,s]=v.useState(!1),[a,i]=v.useState(!0),[o,l]=v.useState([]),[c,u]=v.useState([]),[d,p]=v.useState(null),[m,w]=v.useState(""),[f,g]=v.useState(!1),[h,S]=v.useState("approve"),A=me(),{toast:b}=le();v.useEffect(()=>{j()},[]);const j=async()=>{try{const N=await wt.auth.me();e(N.data),await k()}catch{b({title:"",variant:"destructive"}),A("/")}},k=async()=>{try{if(!(await wt.apiCall.invoke({url:"/api/v1/inspectors/me",method:"GET"})).data.is_inspector){b({title:"",description:"",variant:"destructive"}),A("/profile");return}s(!0),await x(),i(!1)}catch(N){b({title:"",description:(N==null?void 0:N.message)||"",variant:"destructive"}),A("/profile")}},x=async()=>{try{const N=await wt.apiCall.invoke({url:"/api/v1/inspectors/tasks",method:"GET"});l(N.data.posts||[]),u(N.data.shops||[])}catch(N){console.error("Failed to load tasks:",N)}},E=(N,L,ee)=>{p({...N,itemType:ee}),S(L),w(""),g(!0)},_=async()=>{if(d)try{if(d.itemType==="shop")await wt.apiCall.invoke({url:`/api/v1/shop-reviews/${d.id}/${h}`,method:"POST",data:{review_comment:m}});else{b({title:"",variant:"destructive"});return}b({title:h==="approve"?"":""}),g(!1),x()}catch(N){b({title:"",description:(N==null?void 0:N.message)||"",variant:"destructive"})}};return a?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:r.jsx(Ye,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-500 to-blue-600 bg-clip-text text-transparent",children:""}),r.jsx("p",{className:"text-gray-600",children:""})]})]}),r.jsxs(qt,{defaultValue:"shops",className:"w-full",children:[r.jsxs(lt,{className:"grid w-full grid-cols-2",children:[r.jsxs(xe,{value:"shops",children:[r.jsx(X,{className:"mr-2 h-4 w-4"})," (",c.length,")"]}),r.jsxs(xe,{value:"posts",children:[r.jsx(fn,{className:"mr-2 h-4 w-4"})," (",o.length,")"]})]}),r.jsx(ct,{value:"shops",className:"mt-6",children:c.length===0?r.jsx(F,{children:r.jsxs(D,{className:"py-16 text-center",children:[r.jsx(X,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-600 text-lg",children:""})]})}):r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c.map(N=>r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(V,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:N.logo_url,alt:N.shop_name,className:"w-16 h-16 rounded-lg object-cover"}),r.jsxs("div",{children:[r.jsx(oe,{children:N.shop_name}),r.jsx("p",{className:"text-sm text-gray-500",children:Oe(N.created_at)})]})]}),r.jsx(U,{className:"bg-yellow-500",children:""})]})}),r.jsxs(D,{children:[r.jsx("p",{className:"text-gray-700 mb-4",children:N.description}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(T,{onClick:()=>E(N,"approve","shop"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white",children:[r.jsx(Pt,{className:"mr-2 h-4 w-4"}),""]}),r.jsxs(T,{onClick:()=>E(N,"reject","shop"),variant:"outline",className:"flex-1 text-red-500 hover:text-red-600",children:[r.jsx(Tr,{className:"mr-2 h-4 w-4"}),""]})]})]})]},N.id))})}),r.jsx(ct,{value:"posts",className:"mt-6",children:o.length===0?r.jsx(F,{children:r.jsxs(D,{className:"py-16 text-center",children:[r.jsx(fn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-600 text-lg",children:""})]})}):r.jsx("div",{className:"space-y-4",children:o.map(N=>r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(V,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm text-gray-500",children:Oe(N.created_at)})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(U,{className:"bg-orange-500",children:[" ",N.reward_points]}),r.jsx(U,{className:"bg-yellow-500",children:""})]})]})}),r.jsxs(D,{children:[r.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:N.content}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(T,{onClick:()=>E(N,"approve","post"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white",children:[r.jsx(Pt,{className:"mr-2 h-4 w-4"}),""]}),r.jsxs(T,{onClick:()=>E(N,"reject","post"),variant:"outline",className:"flex-1 text-red-500 hover:text-red-600",children:[r.jsx(Tr,{className:"mr-2 h-4 w-4"}),""]})]})]})]},N.id))})})]}),r.jsx(Ja,{open:f,onOpenChange:g,children:r.jsxs(sn,{children:[r.jsx(an,{children:r.jsx(on,{children:h==="approve"?"":""})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r.jsx(ve,{value:m,onChange:N=>w(N.target.value),placeholder:h==="approve"?"":"",className:"min-h-[100px]"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(T,{onClick:_,className:`flex-1 ${h==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"} text-white`,children:["",h==="approve"?"":""]}),r.jsx(T,{onClick:()=>g(!1),variant:"outline",className:"flex-1",children:""})]})]})]})})]})})}const Hu=ne();function Wu(){const t=me();return v.useEffect(()=>{(async()=>{try{await Hu.auth.login(),t("/")}catch(n){console.error("Authentication failed:",n),t("/")}})()},[t]),r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})})}function Vu(){return r.jsx(pi,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs(un,{children:[r.jsx(te,{path:"/auth/callback",element:r.jsx(Wu,{})}),r.jsx(te,{path:"/*",element:r.jsxs(r.Fragment,{children:[r.jsx(ju,{}),r.jsxs(un,{children:[r.jsx(te,{path:"/",element:r.jsx(Nu,{})}),r.jsx(te,{path:"/social",element:r.jsx(Tu,{})}),r.jsx(te,{path:"/social-old",element:r.jsx(Au,{})}),r.jsx(te,{path:"/shop",element:r.jsx(Pu,{})}),r.jsx(te,{path:"/cart",element:r.jsx($u,{})}),r.jsx(te,{path:"/seller",element:r.jsx(Uu,{})}),r.jsx(te,{path:"/profile",element:r.jsx(qu,{})}),r.jsx(te,{path:"/profile-old",element:r.jsx(Lu,{})}),r.jsx(te,{path:"/seller/register",element:r.jsx(Bu,{})}),r.jsx(te,{path:"/seller/register-old",element:r.jsx(Mu,{})}),r.jsx(te,{path:"/inspector",element:r.jsx(zu,{})})]})]})})]}),r.jsx($i,{})]})})}let Gu=null;async function Ju(){try{console.log(" DEBUG: Starting to load runtime config...");const t=await fetch("/api/config");if(t.ok){const e=t.headers.get("content-type");e&&e.includes("application/json")?(Gu=await t.json(),console.log("Runtime config loaded successfully")):console.log("Config endpoint returned non-JSON response, skipping runtime config")}else console.log(" DEBUG: Config fetch failed with status:",t.status)}catch(t){console.log("Failed to load runtime config, using defaults:",t)}finally{console.log(" DEBUG: Config loading finished, configLoading set to false")}}async function Ku(){try{await Ju(),console.log("Runtime configuration loaded successfully")}catch(t){console.warn("Failed to load runtime configuration, using defaults:",t)}qs(document.getElementById("root")).render(r.jsx(Vu,{}))}Ku();
